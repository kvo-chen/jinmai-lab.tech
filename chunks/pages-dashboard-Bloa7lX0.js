import{r as e,i as s,j as t,m as a,p as i,R as l,B as r,b as n,X as c,Y as d,T as o,c as m,P as x,a as g,C as h}from"./vendor-react-7rlDZYVK.js";import{u,a as f}from"./components-analytics-D0Glag6r.js";import{A as b}from"./components-admin-u5o8ISLL.js";import{a as p}from"./components-core-Ca0f-3GT.js";import{s as y,O as j}from"./components-other-CUE0A1-z.js";import"./i18n-CPi6PAmy.js";import"./vendor-other-CRhi5s5X.js";import"./charts-recharts-D0ssCqK6.js";import"./three-core-DHZMy_Lk.js";import"./three-stdlib-C_4-sCbx.js";import"./db-libs-D0Hh-v_I.js";import"./components-media-BNdY5qC-.js";import"./components-layout-Bz7ZwRP6.js";import"./components-auxiliary-DpPURHF4.js";const v=[{name:"一月",views:4e3,likes:2400,comments:240},{name:"二月",views:3e3,likes:1398,comments:221},{name:"三月",views:2e3,likes:9800,comments:229},{name:"四月",views:2780,likes:3908,comments:200},{name:"五月",views:1890,likes:4800,comments:218},{name:"六月",views:2390,likes:3800,comments:250}],N=[{id:1,title:"国潮插画设计",thumbnail:"https://images.unsplash.com/photo-1606787366850-de6330128bfc?w=600&h=400&fit=crop",status:"已发布",views:1245,likes:324,date:"2025-11-10",copyrightCertified:!0},{id:2,title:"老字号包装设计",thumbnail:"https://trae-api-sg.mchost.guru/api/ide/v1/text_to_image?image_size=1024x1024&prompt=Traditional%20Chinese%20brand%20packaging%20design",status:"审核中",views:0,likes:0,date:"2025-11-09",copyrightCertified:!1},{id:3,title:"传统纹样AI创作",thumbnail:"https://trae-api-sg.mchost.guru/api/ide/v1/text_to_image?image_size=1024x1024&prompt=AI%20generated%20traditional%20Chinese%20patterns",status:"草稿",views:0,likes:0,date:"2025-11-08",copyrightCertified:!1}];function w(){const{isDark:w}=u(),{isAuthenticated:k,user:$}=e.useContext(b),C=s(),[A,S]=e.useState(!0),[L,P]=e.useState(!1),[D,I]=e.useState(!1),[R]=e.useState(()=>y.getCreatorLevelInfo()),[T]=e.useState(()=>y.getUnlockedAchievements()),[z]=e.useState(()=>y.getPointsStats()),[E]=e.useState(()=>f.getWorksPerformance(3)),[H,K]=e.useState("月"),[U,_]=e.useState(null),q=e.useRef(null);e.useEffect(()=>{const e=e=>{q.current&&!q.current.contains(e.target)&&_(null)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const B=y.getPointsSourceStats(),F=[{name:"成就",value:B.achievement,color:"#60a5fa"},{name:"任务",value:B.task,color:"#34d399"},{name:"每日",value:B.daily,color:"#fbbf24"},{name:"消费",value:B.consumption,color:"#f87171"},{name:"兑换",value:B.exchange,color:"#a78bfa"},{name:"其他",value:B.other,color:"#94a3b8"}].filter(e=>e.value>0);return e.useEffect(()=>{k&&$?setTimeout(()=>{S(!1);try{const e=`onboarded-${$.id}`;"true"===localStorage.getItem(e)||I(!0)}catch{}},800):C("/login")},[k,$,C]),A?t.jsx("div",{className:"min-h-screen flex items-center justify-center "+(w?"bg-gray-900":"bg-gray-50"),children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600 mb-4"}),t.jsx("p",{className:"text-lg "+(w?"text-gray-300":"text-gray-600"),children:"加载中..."})]})}):t.jsxs(t.Fragment,{children:[t.jsx(j,{isOpen:D,onClose:e=>{try{$&&localStorage.setItem(`onboarded-${$.id}`,"true")}catch{}I(!1)}}),t.jsxs("main",{className:"container mx-auto px-4 py-8",children:[t.jsx(a.div,{className:`mb-8 p-6 rounded-2xl ${w?"bg-gray-800":"bg-white"} shadow-md`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold mb-2",children:["欢迎回来，",$?.username,"！"]}),t.jsxs("p",{className:w?"text-gray-400":"text-gray-600",children:["今天是个创作的好日子，您有 ",t.jsx("span",{className:"text-red-600 font-medium",children:"3"})," 个作品待完成"]})]}),t.jsxs(a.button,{onClick:()=>{C("/create")},className:"mt-4 md:mt-0 bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-full flex items-center transition-colors min-h-[44px]",whileHover:{scale:1.03},whileTap:{scale:.97},"aria-label":"开始创作",children:[t.jsx("i",{className:"fas fa-plus mr-2"}),"开始创作"]})]})}),t.jsxs(a.div,{className:`mb-8 p-6 rounded-2xl ${w?"bg-gray-800":"bg-white"} shadow-md`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:[t.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start p-2 md:p-0",children:[t.jsxs("div",{className:"relative mb-6 md:mb-0 md:mr-6",children:[$?.avatar&&$.avatar.trim()?t.jsx("div",{className:"relative w-24 h-24 rounded-full",children:t.jsx("img",{src:$.avatar,alt:$.username||"用户头像",className:"w-full h-full rounded-full object-cover border-4 border-red-600",loading:"lazy",decoding:"async",onError:e=>{const s=e.target;s.style.display="none";const t=s.parentElement;if(t){const e=document.createElement("div");e.className="absolute inset-0 rounded-full flex items-center justify-center text-white font-bold text-3xl border-4 border-red-600 "+(w?"bg-blue-600":"bg-orange-500"),e.textContent=$?.username?.charAt(0)||"U",t.appendChild(e)}}})}):t.jsx("div",{className:`w-24 h-24 rounded-full flex items-center justify-center text-white font-bold text-3xl ${w?"bg-blue-600":"bg-orange-500"} border-4 border-red-600`,children:$?.username?.charAt(0)||"U"}),t.jsxs("div",{className:"absolute -bottom-2 -right-2 bg-red-600 text-white w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold",children:[R.levelProgress,"%"]})]}),t.jsxs("div",{className:"flex-1 w-full",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-4",children:[t.jsxs("div",{className:"mb-4 md:mb-0",children:[t.jsx("h2",{className:"text-xl font-bold mb-2",children:$?.username}),t.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[t.jsxs("span",{className:"bg-blue-100 text-blue-600 text-sm px-3 py-1 rounded-full",children:[R.currentLevel.name," ",R.currentLevel.icon]}),t.jsxs("span",{className:"text-sm "+(w?"text-gray-400":"text-gray-600"),children:[R.currentPoints," 积分"]})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full sm:w-auto",children:[t.jsxs(i,{to:"/membership",className:"w-full px-4 py-3 rounded-lg min-h-[44px] bg-red-600 hover:bg-red-700 text-white transition-colors text-sm flex items-center justify-center",children:[t.jsx("i",{className:"fas fa-crown mr-1.5"}),"会员中心"]}),t.jsx("button",{onClick:()=>P(!L),className:`w-full px-4 py-3 rounded-lg min-h-[44px] ${w?"bg-gray-700 hover:bg-gray-600":"bg-gray-100 hover:bg-gray-200"} transition-colors text-sm`,"aria-expanded":L,"aria-label":L?"收起创作者详情":"查看创作者详情",children:L?"收起详情":"查看创作者详情"})]})]}),t.jsxs("div",{className:"mb-5",children:[t.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[t.jsx("span",{children:R.currentLevel.name}),t.jsx("span",{className:"text-right",children:R.nextLevel?`${R.nextLevel.name} (${R.nextLevel.requiredPoints}积分)`:"已达最高等级"})]}),t.jsx("div",{className:`h-2 rounded-full ${w?"bg-gray-700":"bg-gray-200"} mb-1`,children:t.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-blue-500 to-red-600",style:{width:`${R.levelProgress}%`}})})]}),t.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:T.slice(0,4).map(e=>t.jsxs("div",{className:"flex items-center px-3 py-2 rounded-full text-sm "+(w?"bg-gray-700":"bg-gray-100"),children:[t.jsx("i",{className:`fas fa-${e.icon} mr-1.5 text-yellow-500`}),t.jsx("span",{children:e.name})]},e.id))})]})]}),L&&t.jsx(p,{creatorData:{level:R.currentLevel.name,levelProgress:R.levelProgress,points:R.currentPoints,achievements:T.map(e=>({id:e.id,name:e.name,description:e.description,icon:e.icon})),availableRewards:[{id:1,name:"高级素材包",description:"解锁20个高级文化素材",requirement:"完成5篇作品"},{id:2,name:"优先审核权",description:"作品审核时间缩短50%",requirement:"完成10篇作品"}],tasks:[{id:1,title:"完成新手引导",status:"completed",reward:"50积分"},{id:2,title:"发布第一篇作品",status:"completed",reward:"100积分 + 素材包"},{id:3,title:"邀请一位好友",status:"pending",reward:"150积分"},{id:4,title:"参与一次主题活动",status:"pending",reward:"200积分"}],commercialApplications:[{id:1,title:"国潮插画设计",brand:"老字号品牌A",status:"洽谈中",date:"2025-11-11"},{id:2,title:"传统纹样创新",brand:"老字号品牌B",status:"已采纳",date:"2025-11-05",revenue:"¥1,200"}],pointsStats:z},isDark:w})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[{title:"总浏览量",value:"12,458",icon:"eye",color:"blue"},{title:"获赞总数",value:"3,245",icon:"thumbs-up",color:"red"},{title:"作品总数",value:"28",icon:"image",color:"green"}].map((e,s)=>t.jsxs(a.div,{className:`p-6 rounded-2xl ${w?"bg-gray-800":"bg-white"} shadow-md`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*s},children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm mb-1 "+(w?"text-gray-400":"text-gray-600"),children:e.title}),t.jsx("h3",{className:"text-2xl font-bold",children:e.value})]}),t.jsx("div",{className:`p-3 rounded-full bg-${e.color}-100 text-${e.color}-600`,children:t.jsx("i",{className:`far fa-${e.icon} text-xl`})})]}),t.jsxs("div",{className:"mt-4 text-sm",children:[t.jsxs("span",{className:"text-green-500 flex items-center",children:[t.jsx("i",{className:"fas fa-arrow-up mr-1"}),"12.5%"]}),t.jsx("span",{className:"ml-2 "+(w?"text-gray-400":"text-gray-600"),children:"较上月"})]})]},s))}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs(a.div,{className:`lg:col-span-2 p-6 rounded-2xl ${w?"bg-gray-800":"bg-white"} shadow-md`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-xl font-bold",children:"作品表现趋势"}),t.jsx("div",{className:"flex space-x-2",children:["周","月","年"].map(e=>t.jsx("button",{type:"button",className:`px-4 py-2 rounded-lg text-sm min-h-[44px] ${e===H?"bg-red-600 text-white":w?"bg-gray-700 hover:bg-gray-600":"bg-gray-100 hover:bg-gray-200"} transition-colors`,"aria-pressed":e===H,onClick:()=>K(e),children:e},e))})]}),t.jsx(a.div,{className:"h-80",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:t.jsx(l,{width:"100%",height:"100%",children:t.jsxs(r,{data:(()=>{switch(H){case"周":return[{name:"周一",views:1200,likes:800,comments:120},{name:"周二",views:1500,likes:900,comments:150},{name:"周三",views:1800,likes:1200,comments:180},{name:"周四",views:1600,likes:1e3,comments:160},{name:"周五",views:2e3,likes:1500,comments:200},{name:"周六",views:2500,likes:1800,comments:250},{name:"周日",views:2200,likes:1600,comments:220}];case"月":return[{name:"一月",views:4e3,likes:2400,comments:240},{name:"二月",views:3e3,likes:1398,comments:221},{name:"三月",views:2e3,likes:9800,comments:229},{name:"四月",views:2780,likes:3908,comments:200},{name:"五月",views:1890,likes:4800,comments:218},{name:"六月",views:2390,likes:3800,comments:250}];case"年":return[{name:"2022",views:12e3,likes:8e3,comments:1200},{name:"2023",views:15e3,likes:9e3,comments:1500},{name:"2024",views:18e3,likes:12e3,comments:1800},{name:"2025",views:22e3,likes:16e3,comments:2200}];default:return v}})(),margin:{top:20,right:30,left:20,bottom:5},children:[t.jsx(n,{strokeDasharray:"3 3",stroke:w?"#374151":"#e5e7eb"}),t.jsx(c,{dataKey:"name",tick:{fill:w?"#9ca3af":"#4b5563"},axisLine:{stroke:w?"#374151":"#e5e7eb"}}),t.jsx(d,{tick:{fill:w?"#9ca3af":"#4b5563"},axisLine:{stroke:w?"#374151":"#e5e7eb"}}),t.jsx(o,{contentStyle:{backgroundColor:w?"#1f2937":"#ffffff",borderColor:w?"#374151":"#e5e7eb",borderRadius:"0.5rem",color:w?"#ffffff":"#000000"}}),t.jsx(m,{dataKey:"views",name:"浏览量",fill:"#60a5fa",radius:[4,4,0,0],animationDuration:1e3}),t.jsx(m,{dataKey:"likes",name:"点赞数",fill:"#f87171",radius:[4,4,0,0],animationDuration:1e3}),t.jsx(m,{dataKey:"comments",name:"评论数",fill:"#34d399",radius:[4,4,0,0],animationDuration:1e3})]})})},H)]}),t.jsxs(a.div,{className:`p-6 rounded-2xl ${w?"bg-gray-800":"bg-white"} shadow-md`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-xl font-bold",children:"最近作品"}),t.jsx(i,{to:"/explore?filter=my-works",className:"text-red-600 hover:text-red-700 text-sm transition-colors hover:underline focus:outline-none focus:ring-2 focus:ring-red-300 focus:rounded-full","aria-label":"查看全部作品","data-discover":"true",children:"查看全部"})]}),t.jsx("div",{className:"space-y-4",children:N.map(e=>t.jsx("div",{className:`p-4 rounded-xl ${w?"bg-gray-700":"bg-gray-50"} transition-transform hover:scale-[1.02] relative`,children:t.jsxs("div",{className:"flex items-start",children:[t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:e.thumbnail,alt:e.title,className:"w-16 h-16 rounded-lg object-cover mr-4",loading:"lazy",decoding:"async"}),e.copyrightCertified&&t.jsx("div",{className:"absolute -bottom-1 -right-1 bg-green-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center",children:t.jsx("i",{className:"fas fa-shield-alt"})})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-medium mb-1",children:e.title}),t.jsxs("div",{className:"flex items-center text-xs mb-2",children:[t.jsx("span",{className:"px-2 py-0.5 rounded-full mr-2 "+("已发布"===e.status?"bg-green-100 text-green-600":"审核中"===e.status?"bg-yellow-100 text-yellow-600":"bg-gray-100 text-gray-600"),children:e.status}),t.jsx("span",{className:w?"text-gray-400":"text-gray-600",children:e.date})]}),t.jsxs("div",{className:"flex items-center text-xs",children:[t.jsxs("span",{className:"flex items-center mr-3",children:[t.jsx("i",{className:"far fa-eye mr-1"}),e.views]}),t.jsxs("span",{className:"flex items-center",children:[t.jsx("i",{className:"far fa-thumbs-up mr-1"}),e.likes]})]})]}),t.jsxs("div",{className:"relative ml-2",ref:q,children:[t.jsx("button",{className:"text-gray-400 hover:text-gray-600 min-h-[44px] min-w-[44px] flex items-center justify-center rounded-full transition-colors "+(U===e.id?"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300":""),"aria-label":"更多操作",type:"button",id:`work-actions-${e.id}`,onClick:()=>{return s=e.id,void _(U===s?null:s);var s},"aria-expanded":U===e.id,children:t.jsx("i",{className:"fas fa-ellipsis-v"})}),U===e.id&&t.jsxs("div",{className:`absolute right-0 mt-2 w-48 rounded-lg shadow-lg z-50 ${w?"bg-gray-700":"bg-white"} border border-gray-200 py-1 transition-all duration-200 ease-in-out`,children:[t.jsxs("button",{className:`w-full text-left px-4 py-2 text-sm ${w?"hover:bg-gray-600 text-white":"hover:bg-gray-100 text-gray-700"} transition-colors flex items-center`,onClick:()=>{C(`/works/${e.id}`),_(null)},children:[t.jsx("i",{className:"far fa-eye mr-2"}),"查看详情"]}),t.jsxs("button",{className:`w-full text-left px-4 py-2 text-sm ${w?"hover:bg-gray-600 text-white":"hover:bg-gray-100 text-gray-700"} transition-colors flex items-center`,onClick:()=>{C(`/create?id=${e.id}`),_(null)},children:[t.jsx("i",{className:"far fa-edit mr-2"}),"编辑作品"]}),"草稿"===e.status&&t.jsxs("button",{className:`w-full text-left px-4 py-2 text-sm ${w?"hover:bg-gray-600 text-white":"hover:bg-gray-100 text-gray-700"} transition-colors flex items-center`,onClick:()=>{_(null)},children:[t.jsx("i",{className:"far fa-paper-plane mr-2"}),"发布作品"]}),"已发布"===e.status&&t.jsxs("button",{className:`w-full text-left px-4 py-2 text-sm ${w?"hover:bg-gray-600 text-white":"hover:bg-gray-100 text-gray-700"} transition-colors flex items-center`,onClick:()=>{_(null)},children:[t.jsx("i",{className:"far fa-copy mr-2"}),"复制作品"]}),t.jsxs("button",{className:`w-full text-left px-4 py-2 text-sm ${w?"hover:bg-red-900/30 text-red-400":"hover:bg-red-50 text-red-600"} transition-colors flex items-center`,onClick:()=>{_(null)},children:[t.jsx("i",{className:"far fa-trash-alt mr-2"}),"删除作品"]})]})]})]})},e.id))})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mt-6",children:[t.jsxs(a.div,{className:`lg:col-span-1 p-6 rounded-2xl ${w?"bg-gray-800":"bg-white"} shadow-md`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:[t.jsx("div",{className:"flex justify-between items-center mb-6",children:t.jsx("h2",{className:"text-xl font-bold",children:"积分来源分布"})}),t.jsx("div",{className:"h-80",children:t.jsx(l,{width:"100%",height:"100%",children:t.jsxs(x,{children:[t.jsx(g,{data:F,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,fill:"#8884d8",paddingAngle:2,dataKey:"value",label:({name:e,percent:s})=>`${e} ${(100*s).toFixed(0)}%`,children:F.map((e,s)=>t.jsx(h,{fill:e.color},`cell-${s}`))}),t.jsx(o,{contentStyle:{backgroundColor:w?"#1f2937":"#ffffff",borderColor:w?"#374151":"#e5e7eb",borderRadius:"0.5rem",color:w?"#ffffff":"#000000"},formatter:e=>[`${e} 积分`,"数量"]})]})})}),t.jsx("div",{className:"mt-4 grid grid-cols-2 gap-2",children:F.map((e,s)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:e.color}}),t.jsx("span",{className:"text-sm",children:e.name}),t.jsxs("span",{className:"ml-auto text-sm font-medium",children:[e.value," 积分"]})]},s))})]}),t.jsxs(a.div,{className:`lg:col-span-2 p-6 rounded-2xl ${w?"bg-gray-800":"bg-white"} shadow-md`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-xl font-bold",children:"成就统计"}),t.jsx(i,{to:"/achievements",className:"text-red-600 hover:text-red-700 text-sm transition-colors hover:underline focus:outline-none focus:ring-2 focus:ring-red-300 focus:rounded-full","aria-label":"查看全部成就","data-discover":"true",children:"查看全部"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"p-5 rounded-xl "+(w?"bg-gray-700":"bg-gray-50"),children:[t.jsx("h3",{className:"text-sm font-medium mb-2",children:"成就完成率"}),t.jsxs("div",{className:"flex items-end justify-between",children:[t.jsxs("div",{className:"text-3xl font-bold",children:[y.getAchievementStats().completionRate,"%"]}),t.jsxs("div",{className:"text-sm text-green-500",children:[t.jsx("i",{className:"fas fa-arrow-up mr-1"}),"+5%"]})]}),t.jsx("div",{className:"mt-3",children:t.jsx("div",{className:"h-2 rounded-full "+(w?"bg-gray-600":"bg-gray-200"),children:t.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-blue-500 to-red-600",style:{width:`${y.getAchievementStats().completionRate}%`}})})})]}),t.jsxs("div",{className:"p-5 rounded-xl "+(w?"bg-gray-700":"bg-gray-50"),children:[t.jsx("h3",{className:"text-sm font-medium mb-2",children:"已解锁成就"}),t.jsxs("div",{className:"flex items-end justify-between",children:[t.jsx("div",{className:"text-3xl font-bold",children:y.getUnlockedAchievements().length}),t.jsxs("div",{className:"text-sm text-gray-500",children:["/ ",y.getAllAchievements().length]})]}),t.jsx("div",{className:"mt-3 grid grid-cols-5 gap-1",children:y.getAllAchievements().map((e,s)=>t.jsx("div",{className:"h-4 rounded-md "+(e.isUnlocked?"bg-green-500":w?"bg-gray-600":"bg-gray-200"),title:e.name},s))})]}),t.jsxs("div",{className:"p-5 rounded-xl "+(w?"bg-gray-700":"bg-gray-50"),children:[t.jsx("h3",{className:"text-sm font-medium mb-2",children:"积分统计"}),t.jsx("div",{className:"text-3xl font-bold",children:R.currentPoints}),t.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[t.jsx("div",{className:"text-xs",children:t.jsxs("span",{className:"text-green-500",children:[t.jsx("i",{className:"fas fa-arrow-up mr-1"}),z.availablePoints," 可获取"]})}),t.jsxs("div",{className:"text-xs",children:["距离升级: ",R.pointsToNextLevel," 积分"]})]})]})]}),t.jsxs("div",{className:"mt-6",children:[t.jsx("h3",{className:"text-sm font-medium mb-3",children:"最近解锁的成就"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:y.getUnlockedAchievements().sort((e,s)=>new Date(s.unlockedAt||"").getTime()-new Date(e.unlockedAt||"").getTime()).slice(0,4).map(e=>t.jsxs("div",{className:`p-4 rounded-xl ${w?"bg-gray-700":"bg-gray-50"} flex flex-col items-center`,children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-yellow-100 text-yellow-600 flex items-center justify-center mb-2",children:t.jsx("i",{className:`fas fa-${e.icon} text-xl`})}),t.jsx("h4",{className:"font-medium text-sm text-center mb-1",children:e.name}),t.jsxs("p",{className:"text-xs text-center "+(w?"text-gray-400":"text-gray-600"),children:[e.points," 积分"]}),t.jsx("div",{className:"mt-2 text-xs text-center text-gray-500",children:e.unlockedAt&&new Date(e.unlockedAt).toLocaleDateString()})]},e.id))})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mt-6",children:[t.jsxs(a.div,{className:`p-6 rounded-2xl ${w?"bg-gray-800":"bg-white"} shadow-md`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},children:[t.jsx("div",{className:"flex justify-between items-center mb-6",children:t.jsx("h2",{className:"text-xl font-bold",children:"每日签到"})}),t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsxs("div",{className:"relative mb-6",children:[t.jsxs(a.div,{className:"w-32 h-32 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white text-2xl font-bold relative overflow-hidden cursor-pointer",whileHover:{scale:1.05},whileTap:{scale:.95},transition:{duration:.2},onClick:()=>{alert("签到成功！获得5积分")},children:[t.jsx("div",{className:"absolute inset-0 bg-white/10"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("i",{className:"fas fa-calendar-check text-4xl mb-2"}),t.jsx("div",{className:"mt-2",children:"签到"})]})]}),t.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 bg-green-500 text-white text-xs px-3 py-1 rounded-full",children:"连续签到 7 天"})]}),t.jsxs("div",{className:"text-center mb-4",children:[t.jsx("div",{className:"text-lg font-medium mb-1",children:"今日签到奖励"}),t.jsx("div",{className:"text-2xl font-bold text-green-500",children:"5 积分"})]}),t.jsx("div",{className:"w-full",children:t.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["日","一","二","三","四","五","六"].map(e=>t.jsx("div",{className:"text-center text-xs font-medium py-1",children:e},e)),Array.from({length:30},(e,s)=>t.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-xs "+(s%2==0?"bg-green-500 text-white":w?"bg-gray-700 text-gray-400":"bg-gray-200 text-gray-600"),children:s+1},s))]})})]})]}),t.jsxs(a.div,{className:`lg:col-span-2 p-6 rounded-2xl ${w?"bg-gray-800":"bg-white"} shadow-md`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7},children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-xl font-bold",children:"任务中心"}),t.jsx(i,{to:"/tasks",className:"text-red-600 hover:text-red-700 text-sm transition-colors hover:underline focus:outline-none focus:ring-2 focus:ring-red-300 focus:rounded-full","aria-label":"查看全部任务","data-discover":"true",children:"查看全部"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium mb-3",children:"新手任务"}),t.jsx("div",{className:"space-y-3",children:[{id:1,title:"完成新手引导",status:"completed",reward:"50 积分",icon:"fas fa-graduation-cap"},{id:2,title:"发布第一篇作品",status:"completed",reward:"100 积分 + 素材包",icon:"fas fa-paper-plane"},{id:3,title:"邀请一位好友",status:"pending",reward:"150 积分",icon:"fas fa-user-plus"},{id:4,title:"参与一次主题活动",status:"pending",reward:"200 积分",icon:"fas fa-calendar-alt"}].map(e=>t.jsxs(a.div,{className:`p-4 rounded-xl ${w?"bg-gray-700":"bg-gray-50"} flex items-center justify-between`,whileHover:{scale:1.01},transition:{duration:.2},children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`w-8 h-8 rounded-full ${"completed"===e.status?"bg-green-100 text-green-600":w?"bg-gray-600 text-gray-300":"bg-gray-200 text-gray-600"} flex items-center justify-center mr-3`,children:t.jsx("i",{className:e.icon})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:e.title}),t.jsx("div",{className:"text-xs "+(w?"text-gray-400":"text-gray-600"),children:e.reward})]})]}),t.jsx(a.button,{className:"px-4 py-2 rounded-lg text-sm transition-colors "+("completed"===e.status?"bg-green-100 text-green-600 cursor-not-allowed":"bg-red-600 hover:bg-red-700 text-white"),disabled:"completed"===e.status,whileHover:{scale:"completed"!==e.status?1.05:1},whileTap:{scale:"completed"!==e.status?.95:1},children:"completed"===e.status?"已完成":"去完成"})]},e.id))})]}),t.jsxs("div",{className:"mt-6",children:[t.jsx("h3",{className:"text-sm font-medium mb-3",children:"每日任务"}),t.jsx("div",{className:"space-y-3",children:[{id:5,title:"登录平台",status:"completed",reward:"2 积分",icon:"fas fa-sign-in-alt"},{id:6,title:"浏览 5 个作品",status:"completed",reward:"3 积分",icon:"fas fa-eye"},{id:7,title:"发表 1 条评论",status:"pending",reward:"5 积分",icon:"fas fa-comment"},{id:8,title:"分享作品到社交平台",status:"pending",reward:"10 积分",icon:"fas fa-share-alt"}].map(e=>t.jsxs(a.div,{className:`p-4 rounded-xl ${w?"bg-gray-700":"bg-gray-50"} flex items-center justify-between`,whileHover:{scale:1.01},transition:{duration:.2},children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`w-8 h-8 rounded-full ${"completed"===e.status?"bg-green-100 text-green-600":w?"bg-gray-600 text-gray-300":"bg-gray-200 text-gray-600"} flex items-center justify-center mr-3`,children:t.jsx("i",{className:e.icon})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:e.title}),t.jsx("div",{className:"text-xs "+(w?"text-gray-400":"text-gray-600"),children:e.reward})]})]}),t.jsx(a.button,{className:"px-4 py-2 rounded-lg text-sm transition-colors "+("completed"===e.status?"bg-green-100 text-green-600 cursor-not-allowed":"bg-red-600 hover:bg-red-700 text-white"),disabled:"completed"===e.status,whileHover:{scale:"completed"!==e.status?1.05:1},whileTap:{scale:"completed"!==e.status?.95:1},children:"completed"===e.status?"已完成":"去完成"})]},e.id))})]})]})]})]}),t.jsxs(a.div,{className:`mt-8 p-6 rounded-2xl ${w?"bg-gray-800":"bg-white"} shadow-md`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.8},children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-xl font-bold",children:"作品表现分析"}),t.jsx(i,{to:"/analytics/works",className:"text-red-600 hover:text-red-700 text-sm transition-colors hover:underline focus:outline-none focus:ring-2 focus:ring-red-300 focus:rounded-full","aria-label":"查看全部作品表现分析","data-discover":"true",children:"查看全部"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:E.map(e=>t.jsxs(a.div,{className:`p-5 rounded-xl ${w?"bg-gray-700":"bg-gray-50"} transition-all hover:shadow-lg`,whileHover:{y:-5},children:[t.jsxs("div",{className:"flex justify-between items-start mb-3",children:[t.jsx("h3",{className:"font-bold",children:e.title}),t.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("up"===e.trend?"bg-green-100 text-green-600":"down"===e.trend?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"),children:"up"===e.trend?"↑ 上升":"down"===e.trend?"↓ 下降":"→ 稳定"})]}),t.jsx("div",{className:"mb-4",children:t.jsx("img",{src:e.thumbnail,alt:e.title,className:"w-full h-32 object-cover rounded-lg",loading:"lazy"})}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm "+(w?"text-gray-400":"text-gray-600"),children:"浏览量"}),t.jsx("span",{className:"font-medium",children:e.metrics.views})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm "+(w?"text-gray-400":"text-gray-600"),children:"点赞数"}),t.jsx("span",{className:"font-medium",children:e.metrics.likes})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm "+(w?"text-gray-400":"text-gray-600"),children:"评论数"}),t.jsx("span",{className:"font-medium",children:e.metrics.comments})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm "+(w?"text-gray-400":"text-gray-600"),children:"分享数"}),t.jsx("span",{className:"font-medium",children:e.metrics.shares})]}),t.jsxs("div",{className:"flex justify-between items-center mt-3 pt-3 border-t border-gray-200",children:[t.jsx("span",{className:"text-sm "+(w?"text-gray-400":"text-gray-600"),children:"互动率"}),t.jsxs("span",{className:"font-medium text-green-600",children:[Math.round(100*e.metrics.engagementRate),"%"]})]})]})]},e.workId))})]}),t.jsxs(a.div,{className:`mt-8 p-6 rounded-2xl ${w?"bg-gray-800":"bg-white"} shadow-md`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.9},children:[t.jsx("h2",{className:"text-xl font-bold mb-6",children:"推荐创作工具"}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[{title:"一键国潮设计",description:"AI自动生成符合国潮风格的设计作品",icon:"palette",color:"purple"},{title:"文化资产嵌入",description:"智能嵌入传统文化元素和纹样",icon:"gem",color:"yellow"},{title:"AI滤镜",description:"应用独特的AI滤镜，增强作品表现力",icon:"filter",color:"blue"},{title:"文化溯源",description:"了解并展示设计中文化元素的来源",icon:"book",color:"green"}].map((e,s)=>t.jsxs(a.div,{className:`p-5 rounded-xl ${w?"bg-gray-700":"bg-gray-50"} border border-gray-200 transition-all hover:shadow-lg cursor-pointer`,whileHover:{y:-5},role:"button",tabIndex:0,onKeyDown:s=>{if("Enter"===s.key||" "===s.key){s.preventDefault();const t="palette"===e.icon?"sketch":"gem"===e.icon?"pattern":"filter"===e.icon?"filter":"trace";C(`/create?tool=${t}`)}},onClick:()=>{const s="palette"===e.icon?"sketch":"gem"===e.icon?"pattern":"filter"===e.icon?"filter":"trace";C(`/create?tool=${s}`)},children:[t.jsx("div",{className:`w-12 h-12 rounded-full bg-${e.color}-100 text-${e.color}-600 flex items-center justify-center mb-4`,children:t.jsx("i",{className:`fas fa-${e.icon} text-xl`})}),t.jsx("h3",{className:"font-bold mb-2",children:e.title}),t.jsx("p",{className:"text-sm mb-4 "+(w?"text-gray-400":"text-gray-600"),children:e.description}),t.jsxs("button",{className:"text-red-600 hover:text-red-700 text-sm font-medium transition-colors min-h-[44px]","aria-label":`使用 ${e.title}`,onClick:s=>{s.stopPropagation();const t="palette"===e.icon?"sketch":"gem"===e.icon?"pattern":"filter"===e.icon?"filter":"trace";C(`/create?tool=${t}`)},children:["立即使用",t.jsx("i",{className:"fas fa-arrow-right ml-1 text-xs"})]})]},s))})]})]}),t.jsx("footer",{className:`border-t ${w?"border-gray-800 bg-gray-900":"border-gray-200 bg-white"} py-6 px-4 z-10 relative`,children:t.jsxs("div",{className:"container mx-auto flex flex-col md:flex-row justify-between items-center",children:[t.jsx("p",{className:"text-sm "+(w?"text-gray-400":"text-gray-600"),children:"© 2025 津脉智坊. 保留所有权利"}),t.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[t.jsx("a",{href:"/privacy",className:`text-sm ${w?"text-gray-400 hover:text-gray-300":"text-gray-600 hover:text-gray-900"} transition-colors`,children:"隐私政策"}),t.jsx("a",{href:"/terms",className:`text-sm ${w?"text-gray-400 hover:text-gray-300":"text-gray-600 hover:text-gray-900"} transition-colors`,children:"服务条款"}),t.jsx("a",{href:"/help",className:`text-sm ${w?"text-gray-400 hover:text-gray-300":"text-gray-600 hover:text-gray-900"} transition-colors`,children:"帮助中心"})]})]})})]})}export{w as default};
