import{r as e,j as t,m as s,t as i}from"./vendor-react-7rlDZYVK.js";import{T as r,a as n}from"./components-other-CUE0A1-z.js";const a=Object.freeze(Object.defineProperty({__proto__:null,default:({isDark:n,joinedCommunities:a,recommendedCommunities:l,userCommunities:c,activeChatCommunityId:d,onActiveChatCommunityChange:g,pinnedJoined:o,onTogglePinJoined:x,mutedCommunities:m,onToggleMuteCommunity:u,communityMessages:h,onCommunityMessagesChange:p,mockCreators:y})=>{const[b,f]=e.useState(""),[j,v]=e.useState(""),[N,w]=e.useState(!1),[C,k]=e.useState(null);e.useState("");const $=e.useMemo(()=>[...l,...c].filter(e=>a.includes(e.id)),[a,c,l]),S=e.useMemo(()=>{const e=b.trim().toLowerCase(),t=$.filter(t=>!e||`${t.name} ${t.description} ${t.tags.join(" ")}`.toLowerCase().includes(e));return[...t.filter(e=>o.includes(e.id)),...t.filter(e=>!o.includes(e.id))]},[$,b,o]),_=(e,t)=>{const s=t.trim();if(!s)return;const r=y.find(e=>e.online)||y[0],n={id:`cm-${Date.now()}`,user:r.name,text:s,avatar:r.avatar,createdAt:Date.now(),replyTo:C?{id:C.id,user:C.user,text:C.text}:void 0,reactions:{}},a={...h,[e]:[n,...h[e]||[]]};p(a),localStorage.setItem("jmzf_community_messages",JSON.stringify(a)),i.success("å·²å‘é€åˆ°è¯¥ç¤¾ç¾¤"),v(""),k(null)},T=e.useMemo(()=>d&&[...l,...c].find(e=>e.id===d)||null,[d,l,c]),z=e.useMemo(()=>d&&h[d]||[],[d,h]);return t.jsxs(s.section,{className:`mb-6 ${n?"bg-gray-800":"bg-white"} rounded-2xl shadow-md p-4`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("h3",{className:"font-medium",children:"ç¤¾ç¾¤åˆ—è¡¨ä¸èŠå¤©"}),t.jsx("span",{className:"text-xs px-2 py-1 rounded-full "+(n?"bg-gray-700 text-gray-200":"bg-gray-100 text-gray-700"),children:"å¿«é€Ÿäº¤æµ"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"lg:col-span-1",children:[t.jsx("div",{className:"flex items-center gap-2 mb-2",children:t.jsx("input",{value:b,onChange:e=>f(e.target.value),placeholder:"æœç´¢å·²åŠ å…¥ç¤¾ç¾¤...",className:`${n?"bg-gray-800 text-white ring-1 ring-gray-700":"bg-white text-gray-900 ring-1 ring-gray-300"} px-3 py-2 rounded-lg flex-1 focus:outline-none focus:ring-2 ${n?"focus:ring-purple-500":"focus:ring-pink-300"}`})}),t.jsx("ul",{className:"space-y-2 max-h-[38vh] overflow-y-auto sm:max-h-[50vh]",children:0===S.length?t.jsx("li",{className:"text-sm opacity-60",children:"æš‚æ— å·²åŠ å…¥ç¤¾ç¾¤"}):S.map(e=>t.jsx("li",{children:t.jsxs("button",{onClick:()=>g(e.id),className:"w-full text-left p-2 rounded-lg text-sm ring-1 transition-colors "+(d===e.id?"bg-indigo-600 text-white ring-indigo-600":n?"bg-gray-700 text-white ring-gray-700":"bg-gray-100 text-gray-900 ring-gray-200"),children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("div",{className:"font-medium truncate mr-2",children:e.name})}),t.jsx("div",{className:"text-xs opacity-70 mt-1 text-gray-300",children:e.tags.slice(0,2).join(" Â· ")})]})},`chatlist-top-${e.id}`))})]}),t.jsx("div",{className:"lg:col-span-2",children:T?t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("div",{className:"font-medium",children:T.name}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>x(T.id),className:(n?"bg-gray-700 text-white":"bg-gray-200 text-gray-800")+" text-xs px-3 py-1 rounded-full transition-colors",children:o.includes(T.id)?"å–æ¶ˆç½®é¡¶":"ç½®é¡¶"}),t.jsx("button",{onClick:()=>u(T.id),className:(n?"bg-gray-700 text-white":"bg-gray-200 text-gray-800")+" text-xs px-3 py-1 rounded-full transition-colors",children:m.includes(T.id)?"å–æ¶ˆé™éŸ³":"é™éŸ³"})]})]}),t.jsx("div",{className:"space-y-3 mb-4 max-h-[40vh] sm:max-h-[50vh] overflow-y-auto pr-1",children:0===z.length?t.jsx("div",{className:"text-sm opacity-60 text-center py-4",children:"æš‚æ— æ¶ˆæ¯ï¼Œå¿«æ¥å‘ç¬¬ä¸€æ¡æ¶ˆæ¯å§ï¼"}):z.map(e=>t.jsx("div",{className:"p-3 rounded-xl "+(n?"bg-gray-700":"bg-gray-100"),children:t.jsxs("div",{className:"flex items-start",children:[t.jsx(r,{src:e.avatar,alt:e.user,size:"sm",className:"mr-3"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[e.replyTo&&t.jsxs("div",{className:"mb-2 p-2 rounded-lg text-xs "+(n?"bg-gray-800 text-gray-300":"bg-gray-200 text-gray-700"),children:[t.jsxs("div",{className:"font-medium",children:["å›å¤ ",e.replyTo.user,":"]}),t.jsx("div",{className:"text-xs opacity-80 line-clamp-2",children:e.replyTo.text})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("div",{className:"text-sm font-medium truncate",children:e.user})}),t.jsx("div",{className:"text-xs text-gray-400",children:e.createdAt?new Date(e.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),t.jsx("div",{className:`text-sm ${n?"text-gray-200":"text-gray-800"} mb-2 break-words`,children:e.text}),e.reactions&&Object.keys(e.reactions).length>0&&t.jsx("div",{className:"flex items-center gap-1 mb-2 flex-wrap",children:Object.entries(e.reactions).map(([s,i])=>t.jsxs("button",{onClick:()=>e.id&&((e,t,s)=>{const i=(y.find(e=>e.online)||y[0]).name,r={...h,[e]:(h[e]||[]).map(e=>{if(e.id!==t)return e;const r={...e.reactions||{}},n=r[s]||[];return n.includes(i)?(r[s]=n.filter(e=>e!==i),0===r[s].length&&delete r[s]):r[s]=[...n,i],{...e,reactions:r}})};p(r),localStorage.setItem("jmzf_community_messages",JSON.stringify(r))})(T.id,e.id,s),className:`flex items-center gap-1 px-2 py-0.5 rounded-full text-xs ${n?"bg-gray-800 text-white hover:bg-gray-700":"bg-white text-gray-800 hover:bg-gray-200"} ring-1 ${n?"ring-gray-700":"ring-gray-300"} transition-colors`,children:[t.jsx("span",{children:s}),t.jsx("span",{children:i.length})]},s))}),t.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[t.jsx("button",{onClick:()=>e.id&&void k(e),className:`${n?"bg-gray-800 text-white":"bg-white text-gray-800"} px-2 py-0.5 rounded-lg text-xs ring-1 ${n?"ring-gray-700":"ring-gray-300"} transition-colors`,children:"å›å¤"}),t.jsx("button",{onClick:()=>e.id&&((e,t)=>{const s={...h,[e]:(h[e]||[]).map(e=>e.id===t?{...e,pinned:!e.pinned}:e)};p(s),localStorage.setItem("jmzf_community_messages",JSON.stringify(s)),i.success("ç½®é¡¶çŠ¶æ€å·²æ›´æ–°")})(T.id,e.id),className:`${n?"bg-gray-800 text-white":"bg-white text-gray-800"} px-2 py-0.5 rounded-lg text-xs ring-1 ${n?"ring-gray-700":"ring-gray-300"} transition-colors`,children:e.pinned?"å–æ¶ˆç½®é¡¶":"ç½®é¡¶"}),t.jsx("button",{onClick:()=>e.id&&((e,t)=>{const s={...h,[e]:(h[e]||[]).filter(e=>e.id!==t)};p(s),localStorage.setItem("jmzf_community_messages",JSON.stringify(s)),i.success("æ¶ˆæ¯å·²åˆ é™¤")})(T.id,e.id),className:(n?"bg-red-700 text-white":"bg-red-100 text-red-800")+" px-2 py-0.5 rounded-lg text-xs transition-colors",children:"åˆ é™¤"})]})]})]})},e.id))}),C&&t.jsxs("div",{className:"flex items-center gap-2 mb-2 p-2 rounded-lg "+(n?"bg-gray-700 text-gray-300":"bg-gray-200 text-gray-700"),children:[t.jsxs("div",{className:"text-sm",children:["å›å¤ ",C.user,":"]}),t.jsx("button",{onClick:()=>{k(null)},className:"text-xs px-2 py-0.5 rounded-full "+(n?"bg-gray-800 text-white":"bg-white text-gray-800"),children:"å–æ¶ˆ"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx("input",{value:j,onChange:e=>v(e.target.value),onKeyPress:e=>"Enter"===e.key&&_(T.id,j),placeholder:C?`å›å¤ ${C.user}...`:"å‘è¡¨ä½ çš„çœ‹æ³•...",className:"w-full px-3 py-2 rounded-lg focus:outline-none focus:ring-2 "+(n?"bg-gray-700 text-white ring-1 ring-gray-600 focus:ring-purple-500":"bg-white text-gray-900 ring-1 ring-gray-300 focus:ring-pink-300")}),t.jsxs("div",{className:"relative",children:[t.jsx("button",{onClick:()=>w(!N),className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1 rounded-full "+(n?"hover:bg-gray-600 text-white":"hover:bg-gray-200 text-gray-800"),children:"ğŸ˜Š"}),N&&t.jsx("div",{className:"absolute bottom-full right-0 mb-2 p-2 rounded-lg shadow-lg z-10 "+(n?"bg-gray-800 ring-1 ring-gray-700":"bg-white ring-1 ring-gray-300"),children:t.jsx("div",{className:"grid grid-cols-5 gap-2",children:["ğŸ‘","â¤ï¸","ğŸ˜‚","ğŸ‰","ğŸ˜®","ğŸ˜¢","ğŸ˜¡","ğŸ¤”","ğŸ‘€","ğŸ‘"].map(e=>t.jsx("button",{onClick:()=>(e=>{v(t=>t+e),w(!1)})(e),className:"text-xl p-1 rounded-full "+(n?"hover:bg-gray-700":"hover:bg-gray-200"),children:e},e))})})]})]}),t.jsx("button",{onClick:()=>_(T.id,j),className:"px-3 py-2 rounded-lg bg-gradient-to-r from-red-600 to-pink-600 text-white transition-colors hover:opacity-90",children:"å‘é€"})]})]}):t.jsx("div",{className:"flex items-center justify-center h-72 rounded-lg "+(n?"bg-gray-700":"bg-gray-100"),children:t.jsx("div",{className:"text-sm opacity-60",children:"è¯·é€‰æ‹©ä¸€ä¸ªç¤¾ç¾¤å¼€å§‹èŠå¤©"})})})]})]})}},Symbol.toStringTag,{value:"Module"})),l=Object.freeze(Object.defineProperty({__proto__:null,default:({isDark:r,userCommunities:a,onUserCommunitiesChange:l,joinedCommunities:c,onJoinedCommunitiesChange:d,adminStore:g,onAdminStoreChange:o,memberStore:x,onMemberStoreChange:m,announceStore:u,onAnnounceStoreChange:h,privacyStore:p,onPrivacyStoreChange:y,currentEmail:b,communityTab:f,onCommunityTabChange:j})=>{const[v,N]=e.useState(""),[w,C]=e.useState(""),[k,$]=e.useState(""),[S,_]=e.useState(null),[T,z]=e.useState(null),[M,O]=e.useState(""),[A,J]=e.useState(null),D=e=>g[e]?.includes(b)||!1,F=()=>{_(null)},I=()=>{if(!S)return;const e=S.name.trim(),t=S.desc.trim(),s=S.tags.split(",").map(e=>e.trim()).filter(Boolean);if(!e||!t)return void i.warning("åç§°ä¸ç®€ä»‹ä¸èƒ½ä¸ºç©º");const r=a.map(i=>i.id===S.id?{...i,name:e,description:t,tags:s}:i);l(r),i.success("å·²ä¿å­˜ç¤¾ç¾¤ä¿¡æ¯"),_(null)},P=()=>{z(null),O("")};return t.jsxs(t.Fragment,{children:["user"===f&&t.jsxs("div",{className:`${r?"bg-gray-700":"bg-white/70"} p-4 rounded-xl mb-4 ring-1 ${r?"ring-gray-700":"ring-rose-200"}`,children:[t.jsx("div",{className:"text-sm opacity-70 mb-2",children:"åˆ›å»ºæ–°ç¤¾ç¾¤"}),t.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[t.jsx("input",{value:v,onChange:e=>N(e.target.value),placeholder:"ç¤¾ç¾¤åç§°",className:`${r?"bg-gray-800 text-white ring-1 ring-gray-700":"bg-white text-gray-900 ring-1 ring-gray-300"} px-3 py-2 rounded-lg focus:outline-none focus:ring-2 ${r?"focus:ring-purple-500":"focus:ring-pink-300"}`}),t.jsx("input",{value:w,onChange:e=>C(e.target.value),placeholder:"ç¤¾ç¾¤ç®€ä»‹",className:`${r?"bg-gray-800 text-white ring-1 ring-gray-700":"bg-white text-gray-900 ring-1 ring-gray-300"} px-3 py-2 rounded-lg focus:outline-none focus:ring-2 ${r?"focus:ring-purple-500":"focus:ring-pink-300"}`}),t.jsx("input",{value:k,onChange:e=>$(e.target.value),placeholder:"æ ‡ç­¾ï¼ˆé€—å·åˆ†éš”ï¼‰",className:`${r?"bg-gray-800 text-white ring-1 ring-gray-700":"bg-white text-gray-900 ring-1 ring-gray-300"} px-3 py-2 rounded-lg focus:outline-none focus:ring-2 ${r?"focus:ring-purple-500":"focus:ring-pink-300"}`})]}),t.jsx("div",{className:"mt-3 flex justify-end",children:t.jsx("button",{onClick:()=>{const e=v.trim(),t=w.trim(),s=k.split(",").map(e=>e.trim()).filter(Boolean);if(!e)return void i.warning("è¯·è¾“å…¥ç¤¾ç¾¤åç§°");if(!t)return void i.warning("è¯·è¾“å…¥ç¤¾ç¾¤ç®€ä»‹");const r=`uc-${Date.now()}`;l([{id:r,name:e,description:t,cover:"https://trae-api-sg.mchost.guru/api/ide/v1/text_to_image?image_size=1920x1080&prompt=User%20community%20banner%20minimal%20style",tags:s,members:1},...a]),d([...c,r]),b&&(o({...g,[r]:[b]}),m({...x,[r]:[b]})),y({...p,[r]:"public"}),N(""),C(""),$(""),j("user"),i.success("å·²åˆ›å»ºç¤¾ç¾¤")},className:"px-4 py-2 rounded-lg bg-gradient-to-r from-red-600 to-pink-600 text-white transition-colors hover:opacity-90",children:"åˆ›å»º"})})]}),"user"===f&&t.jsx(t.Fragment,{children:0===a.length?t.jsx("div",{className:"text-sm "+(r?"text-gray-400":"text-gray-600"),children:"æš‚æ— è‡ªå»ºç¤¾ç¾¤ï¼Œå¿«æ¥åˆ›å»ºå§ï½"}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(e=>t.jsxs(s.div,{className:`${r?"bg-gray-800":"bg-white/80"} ring-1 ${r?"ring-gray-700":"ring-rose-200"} rounded-xl overflow-hidden shadow-sm`,whileHover:{y:-4},children:[t.jsx(n,{src:e.cover,alt:e.name,className:"w-full aspect-[4/3] object-cover"}),t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"font-medium mb-1 flex items-center gap-2",children:[t.jsx("span",{className:"truncate",children:e.name}),t.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full ${r?"bg-gray-700 text-gray-300":"bg-rose-100 text-rose-700"} ring-1 ${r?"ring-gray-700":"ring-rose-200"}`,children:"ä¸ªäºº"})]}),t.jsx("div",{className:`text-sm mb-2 ${r?"text-gray-300":"text-gray-700"} line-clamp-2`,children:e.description}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:e.tags.slice(0,3).map((e,s)=>t.jsxs("span",{className:"text-xs px-2 py-1 rounded-full "+(r?"bg-gray-700 text-gray-200":"bg-gray-100 text-gray-700"),children:["#",e]},s))}),t.jsxs("div",{className:"mb-3",children:[t.jsxs("div",{className:"text-xs opacity-70 flex items-center gap-1 cursor-pointer",onClick:()=>{return t=e.id,void J(A===t?null:t);var t},children:[t.jsxs("span",{children:["æˆå‘˜ ",x[e.id]?.length||1," äºº"]}),t.jsx("span",{children:A===e.id?"â–¼":"â–¶"})]}),A===e.id&&t.jsx("div",{className:"mt-2 space-y-1 text-xs max-h-[120px] overflow-y-auto",children:[b,...x[e.id]||[]].map((s,i)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"truncate",children:s}),t.jsx("span",{className:"px-1.5 py-0.5 rounded "+(r?"bg-gray-700":"bg-gray-100"),children:g[e.id]?.includes(s)?"ç®¡ç†å‘˜":"æˆå‘˜"})]},i))})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-xs "+(r?"text-gray-400":"text-gray-600"),children:"private"===p[e.id]?"ç§å¯†":"å…¬å¼€"}),t.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:S?.id===e.id?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:I,className:"text-xs px-2 py-0.5 rounded-full "+(r?"bg-green-600 text-white":"bg-green-500 text-white"),children:"ä¿å­˜"}),t.jsx("button",{onClick:F,className:"text-xs px-2 py-0.5 rounded-full "+(r?"bg-gray-700 text-white":"bg-gray-200 text-gray-800"),children:"å–æ¶ˆ"})]}):t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>{var t;_({id:(t=e).id,name:t.name,desc:t.description,tags:t.tags.join(",")})},className:"text-xs px-2 py-0.5 rounded-full "+(r?"bg-gray-700 text-white":"bg-gray-200 text-gray-800"),children:"ç¼–è¾‘"}),t.jsx("button",{onClick:()=>{return t=e.id,z(t),void O("");var t},className:"text-xs px-2 py-0.5 rounded-full "+(r?"bg-blue-600 text-white":"bg-blue-500 text-white"),children:"ç®¡ç†"}),t.jsx("button",{onClick:()=>(e=>{if(!window.confirm("ç¡®å®šè¦åˆ é™¤è¿™ä¸ªç¤¾ç¾¤å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚"))return;l(a.filter(t=>t.id!==e)),d(c.filter(t=>t!==e));const t={...g},s={...x},r={...u},n={...p};delete t[e],delete s[e],delete r[e],delete n[e],o(t),m(s),h(r),y(n),i.success("ç¤¾ç¾¤å·²åˆ é™¤")})(e.id),className:"text-xs px-2 py-0.5 rounded-full "+(r?"bg-red-600 text-white":"bg-red-500 text-white"),children:"åˆ é™¤"})]})})]})]})]},e.id))})}),T&&t.jsx("div",{className:`fixed inset-0 z-50 ${r?"bg-black/70":"bg-black/50"} backdrop-blur-sm flex items-center justify-center p-4`,children:t.jsxs(s.div,{className:(r?"bg-gray-800":"bg-white")+" rounded-2xl shadow-lg p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-medium",children:"ç¤¾ç¾¤ç®¡ç†"}),t.jsx("button",{onClick:P,className:(r?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900")+" text-xl",children:"Ã—"})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h4",{className:"font-medium mb-3",children:"æˆå‘˜ç®¡ç†"}),t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("input",{value:M,onChange:e=>O(e.target.value),placeholder:"æ·»åŠ æˆå‘˜é‚®ç®±",className:`flex-1 ${r?"bg-gray-700 text-white ring-1 ring-gray-600":"bg-white text-gray-900 ring-1 ring-gray-300"} px-3 py-2 rounded-lg focus:outline-none focus:ring-2 ${r?"focus:ring-purple-500":"focus:ring-pink-300"}`}),t.jsx("button",{onClick:()=>{if(!T)return;if(!D(T))return void i.warning("ä»…ç®¡ç†å‘˜å¯æ·»åŠ æˆå‘˜");const e=M.trim().toLowerCase();if(!e||!e.includes("@"))return void i.warning("è¯·è¾“å…¥æœ‰æ•ˆé‚®ç®±");const t={...x,[T]:Array.from(new Set([...x[T]||[],e]))};m(t),O(""),i.success("å·²æ·»åŠ æˆå‘˜")},className:(r?"bg-blue-600 text-white":"bg-blue-500 text-white")+" px-3 py-2 rounded-lg text-sm",children:"æ·»åŠ "})]}),t.jsx("div",{className:"space-y-2",children:[b,...x[T]||[]].map((e,s)=>t.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg "+(r?"bg-gray-700":"bg-gray-100"),children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"text-sm",children:e}),g[T]?.includes(e)&&t.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full "+(r?"bg-purple-600 text-white":"bg-purple-500 text-white"),children:"ç®¡ç†å‘˜"})]}),t.jsx("div",{className:"flex items-center gap-2",children:e!==b&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>(e=>{if(!T)return;if(!D(T))return void i.warning("ä»…ç®¡ç†å‘˜å¯æ›´æ”¹è§’è‰²");const t=g[T]||[],s=t.includes(e)?t.filter(t=>t!==e):[...t,e],r={...g,[T]:s};o(r),i.success("ç®¡ç†å‘˜è§’è‰²å·²æ›´æ–°")})(e),className:"text-xs px-2 py-1 rounded-full "+(r?"bg-gray-600 text-white":"bg-gray-200 text-gray-800"),children:g[T]?.includes(e)?"ç§»é™¤ç®¡ç†å‘˜":"è®¾ä¸ºç®¡ç†å‘˜"}),t.jsx("button",{onClick:()=>(e=>{if(!T)return;if(!D(T))return void i.warning("ä»…ç®¡ç†å‘˜å¯ç§»é™¤æˆå‘˜");const t={...x,[T]:(x[T]||[]).filter(t=>t!==e)};m(t),i.success("å·²ç§»é™¤æˆå‘˜")})(e),className:"text-xs px-2 py-1 rounded-full "+(r?"bg-red-600 text-white":"bg-red-500 text-white"),children:"ç§»é™¤"})]})})]},s))})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h4",{className:"font-medium mb-3",children:"ç¤¾ç¾¤è®¾ç½®"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("div",{className:"text-sm",children:"éšç§è®¾ç½®"}),t.jsx("button",{onClick:()=>{if(!T)return;if(!D(T))return void i.warning("ä»…ç®¡ç†å‘˜å¯åˆ‡æ¢éšç§");const e=p[T]||"public",t={...p,[T]:"public"===e?"private":"public"};y(t),i.success(`ç¤¾ç¾¤å·²åˆ‡æ¢ä¸º${"public"===e?"ç§å¯†":"å…¬å¼€"}æ¨¡å¼`)},className:"text-xs px-3 py-1 rounded-full "+("private"===p[T]?r?"bg-gray-600 text-white":"bg-gray-200 text-gray-800":r?"bg-blue-600 text-white":"bg-blue-500 text-white"),children:"private"===p[T]?"ç§å¯†":"å…¬å¼€"})]}),t.jsx("div",{className:"text-xs "+(r?"text-gray-400":"text-gray-600"),children:"private"===p[T]?"ä»…é‚€è¯·æˆå‘˜å¯åŠ å…¥":"æ‰€æœ‰äººå¯åŠ å…¥"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm mb-2",children:"ç¤¾ç¾¤å…¬å‘Š"}),t.jsx("textarea",{value:u[T]||"",onChange:e=>(e=>{if(!T)return;if(!D(T))return void i.warning("ä»…ç®¡ç†å‘˜å¯è®¾ç½®å…¬å‘Š");const t={...u,[T]:e};h(t),i.success("å…¬å‘Šå·²æ›´æ–°")})(e.target.value),placeholder:"è¾“å…¥ç¤¾ç¾¤å…¬å‘Š",className:`w-full h-20 ${r?"bg-gray-700 text-white ring-1 ring-gray-600":"bg-white text-gray-900 ring-1 ring-gray-300"} px-3 py-2 rounded-lg focus:outline-none focus:ring-2 ${r?"focus:ring-purple-500":"focus:ring-pink-300"}`})]})]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{onClick:P,className:`px-4 py-2 rounded-lg ${r?"bg-gray-700 text-white":"bg-gray-200 text-gray-800"} transition-colors hover:opacity-90`,children:"å…³é—­"})})]})})]})}},Symbol.toStringTag,{value:"Module"}));export{a as C,l as a};
