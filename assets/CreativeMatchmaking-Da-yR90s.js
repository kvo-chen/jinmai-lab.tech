import{j as e,r as d,u as z,m,R as T,I,D as R,X as E,Y as O,E as q,J as L,T as x,t as h}from"./index-DW-f9EnK.js";class P extends d.Component{constructor(l){super(l),this.state={hasError:!1,error:null}}static getDerivedStateFromError(l){return{hasError:!0,error:l}}componentDidCatch(l,g){console.error("CreativeMatchmaking组件错误:",l,g)}render(){return this.state.hasError?e.jsx("div",{className:"p-6 rounded-2xl bg-white shadow-md",children:e.jsxs("div",{className:"flex flex-col items-center justify-center text-center py-12",children:[e.jsx("i",{className:"fas fa-exclamation-circle text-4xl text-red-500 mb-4"}),e.jsx("h3",{className:"text-xl font-bold mb-2",children:"页面加载出错"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"很抱歉，创作搭档匹配功能暂时无法使用，请稍后重试。"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white text-sm transition-colors",children:"重新加载页面"})]})}):this.props.children}}function B(){return e.jsx(P,{children:e.jsx(A,{})})}function A(){const{isDark:a}=z(),[l,g]=d.useState([]),[C,S]=d.useState([]),[c,v]=d.useState(!0),[t,p]=d.useState(null),[o,u]=d.useState({}),[N,w]=d.useState([]),D=()=>{const s=()=>Math.floor(Math.random()*1e4)+1,r=[{id:s(),name:"创意总监小李",avatar:"https://trae-api-sg.mchost.guru/api/ide/v1/text_to_image?image_size=1024x1024&prompt=User%20avatar%20xiaoli",level:"资深创作者",style:["现代国潮","插画设计","品牌设计"],matchScore:Math.floor(Math.random()*10)+85,worksCount:Math.floor(Math.random()*100)+30,followers:Math.floor(Math.random()*2e3)+500,isOnline:Math.random()>.3,bio:"专注于现代国潮设计，擅长将传统元素与现代设计相结合，创造出具有独特风格的作品。",location:"北京",joinDate:"2023-01-15",specialties:["国潮设计","品牌视觉","插画创作"],avgResponseTime:"1小时内"},{id:s(),name:"插画师小陈",avatar:"https://trae-api-sg.mchost.guru/api/ide/v1/text_to_image?image_size=1024x1024&prompt=User%20avatar%20xiaochen",level:"资深创作者",style:["传统插画","水墨风格","人物设计"],matchScore:Math.floor(Math.random()*10)+80,worksCount:Math.floor(Math.random()*150)+50,followers:Math.floor(Math.random()*1500)+300,isOnline:Math.random()>.3,bio:"擅长传统水墨风格插画，作品富有诗意和文化内涵，多次获得国内外插画奖项。",location:"上海",joinDate:"2022-08-20",specialties:["水墨插画","传统纹样","人物设计"],avgResponseTime:"2小时内"},{id:s(),name:"品牌设计师老王",avatar:"https://trae-api-sg.mchost.guru/api/ide/v1/text_to_image?image_size=1024x1024&prompt=User%20avatar%20laowang",level:"大师级创作者",style:["品牌设计","包装设计","视觉识别"],matchScore:Math.floor(Math.random()*10)+82,worksCount:Math.floor(Math.random()*200)+80,followers:Math.floor(Math.random()*3e3)+1e3,isOnline:Math.random()>.3,bio:"拥有15年品牌设计经验，服务过众多知名企业，擅长打造具有市场影响力的品牌形象。",location:"广州",joinDate:"2021-03-10",specialties:["品牌设计","包装设计","VI设计"],avgResponseTime:"30分钟内"},{id:s(),name:"数字艺术家小张",avatar:"https://trae-api-sg.mchost.guru/api/ide/v1/text_to_image?image_size=1024x1024&prompt=User%20avatar%20xiaozhang",level:"新锐创作者",style:["数字艺术","3D建模","互动媒体"],matchScore:Math.floor(Math.random()*10)+78,worksCount:Math.floor(Math.random()*80)+10,followers:Math.floor(Math.random()*1e3)+200,isOnline:Math.random()>.3,bio:"年轻的数字艺术家，擅长使用前沿技术创作沉浸式数字艺术作品，风格独特前卫。",location:"深圳",joinDate:"2023-06-05",specialties:["数字艺术","3D建模","互动媒体"],avgResponseTime:"3小时内"}],i=[{name:"国潮设计",compatibility:Math.floor(Math.random()*20)+80},{name:"传统纹样",compatibility:Math.floor(Math.random()*25)+75},{name:"现代插画",compatibility:Math.floor(Math.random()*15)+85},{name:"品牌设计",compatibility:Math.floor(Math.random()*20)+75},{name:"数字艺术",compatibility:Math.floor(Math.random()*25)+70}];return{partners:r,compatibility:i}},k=()=>{v(!0),setTimeout(()=>{const{partners:s,compatibility:r}=D();g(s),S(r),v(!1)},800)};d.useEffect(()=>{k()},[]);const _=()=>{k(),u({}),p(null),h.info("正在寻找新的创作搭档...")},M=s=>{p(s)},$=()=>{p(null)},f=s=>{const r=l.find(n=>n.id===s);if(!r)return;const i=Math.floor(Math.random()*1e4)+1;u(n=>({...n,[s]:"sent"}));const b={id:i,creatorId:s,creatorName:r.name,status:"sent",sentAt:new Date};w(n=>[...n,b]),h.success("合作邀请已发送！"),setTimeout(()=>{const n=Math.random()>.5?"accepted":"rejected";u(y=>({...y,[s]:n})),w(y=>y.map(j=>j.creatorId===s?{...j,status:n}:j)),n==="accepted"?h.success("合作邀请已被接受！"):h.info("合作邀请已被拒绝")},2e3)};return c?e.jsx("div",{className:`p-6 rounded-2xl ${a?"bg-gray-800":"bg-white"} shadow-md`,children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:`h-8 w-1/4 rounded ${a?"bg-gray-700":"bg-gray-200"} animate-pulse`}),e.jsx("div",{className:`h-64 rounded-xl ${a?"bg-gray-700":"bg-gray-200"} animate-pulse`}),e.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(s=>e.jsxs("div",{className:"flex items-center p-3 rounded-xl bg-gray-100 dark:bg-gray-700 animate-pulse",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-300 dark:bg-gray-600 mr-4"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 w-1/3 bg-gray-300 dark:bg-gray-600 rounded mb-2"}),e.jsx("div",{className:"h-3 w-1/4 bg-gray-300 dark:bg-gray-600 rounded"})]})]},s))})]})}):e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`p-6 rounded-2xl ${a?"bg-gray-800":"bg-white"} shadow-md`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"创作搭档匹配"}),e.jsxs("button",{onClick:_,className:`px-4 py-2 rounded-lg text-sm flex items-center justify-center transition-all duration-300 ${a?"bg-gray-700 hover:bg-gray-600":"bg-gray-100 hover:bg-gray-200"} ${c?"opacity-70 cursor-not-allowed":""}`,disabled:c,children:[e.jsx("i",{className:`fas fa-sync-alt mr-1 ${c?"animate-spin":""}`}),"重新匹配"]})]}),e.jsxs("div",{className:`p-4 rounded-xl mb-6 ${a?"bg-gray-700":"bg-gray-50"}`,children:[e.jsx("h4",{className:"font-medium mb-4",children:"风格兼容性分析"}),e.jsx("div",{className:"h-64 sm:h-80 md:h-96",children:e.jsx(T,{width:"100%",height:"100%",children:e.jsxs(I,{data:C,layout:"vertical",margin:{top:5,right:20,left:50,bottom:5},children:[e.jsx(R,{strokeDasharray:"3 3",stroke:a?"#374151":"#e5e7eb"}),e.jsx(E,{type:"number",domain:[0,100],tick:{fill:a?"#9ca3af":"#4b5563",fontSize:"12px"},axisLine:{stroke:a?"#374151":"#e5e7eb"}}),e.jsx(O,{dataKey:"name",type:"category",tick:{fill:a?"#9ca3af":"#4b5563",fontSize:"12px"},axisLine:{stroke:a?"#374151":"#e5e7eb"},width:50}),e.jsx(q,{formatter:s=>[`${s}%`,"兼容性"],contentStyle:{backgroundColor:a?"#1f2937":"#ffffff",borderColor:a?"#374151":"#e5e7eb",borderRadius:"0.5rem",color:a?"#ffffff":"#000000",fontSize:"12px"}}),e.jsx(L,{dataKey:"compatibility",name:"兼容性",fill:"#ef4444",radius:[0,4,4,0],barSize:16})]})})})]}),e.jsx("h4",{className:"font-medium mb-4",children:"潜在创作搭档"}),e.jsx("div",{className:"space-y-4",children:l.map(s=>e.jsx(m.div,{className:`p-4 rounded-xl ${a?"bg-gray-700":"bg-gray-50"} border ${a?"border-gray-600":"border-gray-200"} transition-all hover:shadow-md`,whileHover:{y:-2},children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"relative mr-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden",children:e.jsx(x,{src:s.avatar,alt:s.name,ratio:"square",fit:"cover",className:"w-full h-full"})}),e.jsx("span",{className:`absolute bottom-0 right-0 h-3 w-3 rounded-full border-2 border-white ${s.isOnline?"bg-green-500":"bg-gray-400"}`})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-wrap items-center mb-1 gap-2",children:[e.jsx("h5",{className:"font-medium truncate",children:s.name}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${s.level==="大师级创作者"?"bg-yellow-100 text-yellow-600":s.level==="资深创作者"?"bg-purple-100 text-purple-600":"bg-blue-100 text-blue-600"}`,children:s.level}),e.jsxs("span",{className:`text-sm ${s.matchScore>90?"text-green-500":s.matchScore>80?"text-blue-500":"text-yellow-500"}`,children:[s.matchScore,"% 匹配度"]})]}),e.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:s.style.map((r,i)=>e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${a?"bg-gray-600":"bg-gray-200"}`,children:r},i))}),e.jsxs("div",{className:"flex flex-wrap gap-3 text-xs opacity-70",children:[e.jsxs("span",{children:[s.worksCount," 作品"]}),e.jsxs("span",{children:[s.followers," 粉丝"]})]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:[e.jsx("button",{onClick:()=>M(s),className:`flex-1 sm:flex-none px-3 py-1.5 rounded-lg text-sm ${a?"bg-gray-600 hover:bg-gray-500":"bg-gray-200 hover:bg-gray-300"} transition-colors`,children:"查看资料"}),o[s.id]==="sent"&&e.jsx("button",{className:"flex-1 sm:flex-none px-3 py-1.5 rounded-lg bg-yellow-600 hover:bg-yellow-700 text-white text-sm transition-colors cursor-not-allowed",disabled:!0,children:"邀请已发送"}),o[s.id]==="accepted"&&e.jsx("button",{className:"flex-1 sm:flex-none px-3 py-1.5 rounded-lg bg-green-600 hover:bg-green-700 text-white text-sm transition-colors cursor-not-allowed",disabled:!0,children:"邀请已接受"}),o[s.id]==="rejected"&&e.jsx("button",{className:"flex-1 sm:flex-none px-3 py-1.5 rounded-lg bg-gray-600 hover:bg-gray-700 text-white text-sm transition-colors cursor-not-allowed",disabled:!0,children:"邀请已拒绝"}),!o[s.id]&&e.jsx("button",{onClick:()=>f(s.id),className:"flex-1 sm:flex-none px-3 py-1.5 rounded-lg bg-red-600 hover:bg-red-700 text-white text-sm transition-colors",children:"邀请合作"})]})]})},s.id))}),N.length>0&&e.jsxs("div",{className:"mt-8",children:[e.jsx("h4",{className:"font-medium mb-4",children:"邀请历史记录"}),e.jsx("div",{className:`rounded-xl ${a?"bg-gray-700":"bg-gray-50"} overflow-hidden border ${a?"border-gray-600":"border-gray-200"}`,children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full min-w-[600px] sm:min-w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:`${a?"bg-gray-800":"bg-gray-100"}`,children:[e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider sm:px-4",children:"创作者"}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider sm:px-4",children:"邀请时间"}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider sm:px-4",children:"状态"}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider sm:px-4",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:N.map(s=>{var r;return e.jsxs("tr",{className:`${a?"bg-gray-700 hover:bg-gray-600":"bg-gray-50 hover:bg-gray-100"} transition-colors`,children:[e.jsx("td",{className:"px-3 py-4 whitespace-nowrap sm:px-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden mr-2",children:e.jsx(x,{src:((r=l.find(i=>i.id===s.creatorId))==null?void 0:r.avatar)||"https://via.placeholder.com/32",alt:s.creatorName,ratio:"square",fit:"cover",className:"w-full h-full"})}),e.jsx("div",{className:"text-sm font-medium truncate",children:s.creatorName})]})}),e.jsx("td",{className:"px-3 py-4 whitespace-nowrap sm:px-4",children:e.jsx("div",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:s.sentAt.toLocaleString("zh-CN")})}),e.jsx("td",{className:"px-3 py-4 whitespace-nowrap sm:px-4",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${s.status==="accepted"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":s.status==="rejected"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300"}`,children:s.status==="accepted"?"已接受":s.status==="rejected"?"已拒绝":"已发送"})}),e.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-xs sm:text-sm font-medium sm:px-4",children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>{const i=l.find(b=>b.id===s.creatorId);i&&M(i)},className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"查看资料"}),s.status==="rejected"&&e.jsx("button",{onClick:()=>f(s.creatorId),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:"重新邀请"})]})})]},s.id)})})]})})})]}),t&&e.jsx(m.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`fixed inset-0 z-50 flex items-center justify-center ${a?"bg-gray-900 bg-opacity-80":"bg-gray-50 bg-opacity-80"} backdrop-blur-sm`,children:e.jsxs(m.div,{className:`rounded-2xl ${a?"bg-gray-800":"bg-white"} shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto`,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsxs("div",{className:`p-4 sm:p-6 border-b ${a?"border-gray-700":"border-gray-200"} flex justify-between items-center`,children:[e.jsxs("h3",{className:"text-lg sm:text-xl font-bold truncate",children:[t.name," - 个人资料"]}),e.jsx("button",{onClick:$,className:`p-2 rounded-full ${a?"bg-gray-700 hover:bg-gray-600":"bg-gray-100 hover:bg-gray-200"} transition-colors`,"aria-label":"关闭",children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start mb-6 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 rounded-full overflow-hidden",children:e.jsx(x,{src:t.avatar,alt:t.name,ratio:"square",fit:"cover",className:"w-full h-full"})}),e.jsx("span",{className:`absolute bottom-0 right-0 h-4 w-4 rounded-full border-2 border-white ${t.isOnline?"bg-green-500":"bg-gray-400"}`})]}),e.jsxs("div",{className:"text-center md:text-left",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-2 mb-2",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:t.name}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${t.level==="大师级创作者"?"bg-yellow-100 text-yellow-600":t.level==="资深创作者"?"bg-purple-100 text-purple-600":"bg-blue-100 text-blue-600"}`,children:t.level})]}),e.jsx("div",{className:"flex flex-wrap justify-center md:justify-start gap-2 mb-3",children:t.style.map((s,r)=>e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${a?"bg-gray-700":"bg-gray-100"}`,children:s},r))}),e.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start gap-4 sm:gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"font-bold",children:t.worksCount}),e.jsx("p",{className:"text-xs sm:text-sm opacity-70",children:"作品"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"font-bold",children:t.followers}),e.jsx("p",{className:"text-xs sm:text-sm opacity-70",children:"粉丝"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"font-bold",children:t.matchScore}),e.jsx("p",{className:"text-xs sm:text-sm opacity-70",children:"匹配度"})]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-medium mb-3 sm:mb-4",children:"个人简介"}),e.jsx("p",{className:`text-sm ${a?"text-gray-300":"text-gray-700"}`,children:t.bio})]}),e.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3 sm:mb-4",children:"基本信息"}),e.jsxs("div",{className:`space-y-2 ${a?"text-gray-300":"text-gray-700"}`,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:"fas fa-map-marker-alt mr-2 text-gray-500"}),e.jsx("span",{className:"text-sm",children:t.location})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:"fas fa-calendar-alt mr-2 text-gray-500"}),e.jsxs("span",{className:"text-sm",children:["加入时间: ",t.joinDate]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:"fas fa-clock mr-2 text-gray-500"}),e.jsxs("span",{className:"text-sm",children:["平均响应时间: ",t.avgResponseTime]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3 sm:mb-4",children:"擅长领域"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.specialties.map((s,r)=>e.jsx("span",{className:`px-2 py-1 sm:px-3 sm:py-1.5 rounded-full text-xs sm:text-sm ${a?"bg-gray-700":"bg-gray-100"}`,children:s},r))})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-medium mb-3 sm:mb-4",children:"代表作品"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-3",children:[1,2,3].map(s=>e.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-200",children:e.jsx(x,{src:`https://trae-api-sg.mchost.guru/api/ide/v1/text_to_image?image_size=1024x1024&prompt=Creative%20work%20example%20${s}`,alt:`作品 ${s}`,ratio:"square",fit:"cover",rounded:"lg",className:"w-full h-full"})},s))})]}),e.jsxs("div",{className:"flex flex-wrap justify-end gap-2 sm:gap-3",children:[e.jsx("button",{onClick:$,className:`flex-1 sm:flex-none px-4 py-2 sm:px-5 sm:py-2.5 rounded-lg transition-colors ${a?"bg-gray-700 hover:bg-gray-600":"bg-gray-100 hover:bg-gray-200"}`,children:"关闭"}),o[t.id]==="sent"&&e.jsx("button",{className:"flex-1 sm:flex-none px-4 py-2 sm:px-5 sm:py-2.5 rounded-lg bg-yellow-600 hover:bg-yellow-700 text-white transition-colors cursor-not-allowed",disabled:!0,children:"邀请已发送"}),o[t.id]==="accepted"&&e.jsx("button",{className:"flex-1 sm:flex-none px-4 py-2 sm:px-5 sm:py-2.5 rounded-lg bg-green-600 hover:bg-green-700 text-white transition-colors cursor-not-allowed",disabled:!0,children:"已接受邀请"}),o[t.id]==="rejected"&&e.jsx("button",{className:"flex-1 sm:flex-none px-4 py-2 sm:px-5 sm:py-2.5 rounded-lg bg-gray-600 hover:bg-gray-700 text-white transition-colors cursor-not-allowed",disabled:!0,children:"已拒绝邀请"}),!o[t.id]&&e.jsx("button",{onClick:()=>f(t.id),className:"flex-1 sm:flex-none px-4 py-2 sm:px-5 sm:py-2.5 rounded-lg bg-red-600 hover:bg-red-700 text-white transition-colors",children:"邀请合作"})]})]})]})})]})}export{B as default};
