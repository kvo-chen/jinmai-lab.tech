import{r as t,j as l}from"./index-DW-f9EnK.js";function E({items:s,renderItem:x,columns:a,isDark:M,height:d=600,itemHeight:n=200,overscan:c=2}){const[u,p]=t.useState(1200),[f,I]=t.useState(0),[w,v]=t.useState(!1),g=t.useRef(null);t.useEffect(()=>{if(typeof window>"u")return;p(window.innerWidth),v(!0);const e=()=>p(window.innerWidth);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const r=t.useMemo(()=>w?u<640?1:u<1024?Math.min(a,2):a:a,[w,u,a]),o=t.useMemo(()=>{const e=Math.max(0,Math.floor(f/n)-c),h=Math.min(Math.ceil(s.length/r),Math.ceil(f/n)+Math.ceil(d/n)+c),i=e*r,j=Math.min(s.length,h*r);return{startIndex:i,endIndex:j,startRow:e}},[f,d,n,s.length,r,c]),R=t.useMemo(()=>s.slice(o.startIndex,o.endIndex),[s,o.startIndex,o.endIndex]),m=o.startRow*n,y=e=>{I(e.currentTarget.scrollTop)};return l.jsx("div",{ref:g,className:`overflow-y-auto p-2 ${M?"bg-gray-900":"bg-white"}`,style:{height:d,position:"relative"},onScroll:y,children:l.jsxs("div",{className:"grid gap-4",style:{gridTemplateColumns:`repeat(${r}, 1fr)`,minHeight:`${Math.ceil(s.length/r)*n}px`,position:"relative"},children:[l.jsx("div",{style:{height:m}}),R.map((e,h)=>{const i=o.startIndex+h;return l.jsx("div",{className:"h-full",style:{height:n-16},children:x(e,i)},i)})]})})}export{E as default};
