import{r as l,c as H,M as I,j as e,m as x}from"./index-DW-f9EnK.js";const P=[{id:1,title:"国潮插画设计",content:"这是一个关于国潮风格的插画设计作品，融合了传统元素与现代设计理念。",user_id:1,username:"设计师小明",avatar_url:"https://via.placeholder.com/64?text=设计师小明",category_id:1,status:"published",views:1234,likes_count:456,comments_count:78,created_at:Date.now()-864e5,updated_at:Date.now()-864e5},{id:2,title:"赛博朋克风格海报",content:"赛博朋克风格的海报设计，展现了未来科技感与城市夜景的融合。",user_id:2,username:"插画师小红",avatar_url:"https://via.placeholder.com/64?text=插画师小红",category_id:2,status:"published",views:987,likes_count:321,comments_count:56,created_at:Date.now()-1728e5,updated_at:Date.now()-1728e5},{id:3,title:"传统纹样现代化设计",content:"将传统纹样重新设计，应用于现代产品包装，展现传统文化的新活力。",user_id:3,username:"设计师小李",avatar_url:"https://via.placeholder.com/64?text=设计师小李",category_id:3,status:"published",views:765,likes_count:234,comments_count:45,created_at:Date.now()-2592e5,updated_at:Date.now()-2592e5},{id:4,title:"水墨风格动画短片",content:"使用传统水墨技法制作的动画短片，讲述了一个关于自然与人文的故事。",user_id:4,username:"动画师小王",avatar_url:"https://via.placeholder.com/64?text=动画师小王",category_id:4,status:"published",views:543,likes_count:189,comments_count:34,created_at:Date.now()-3456e5,updated_at:Date.now()-3456e5},{id:5,title:"民俗文化主题摄影",content:"民俗文化主题的摄影作品，记录了各地的传统节日与习俗。",user_id:5,username:"摄影师小张",avatar_url:"https://via.placeholder.com/64?text=摄影师小张",category_id:5,status:"published",views:321,likes_count:123,comments_count:23,created_at:Date.now()-432e6,updated_at:Date.now()-432e6}],q=[{id:1,username:"设计师小明",email:"xiaoming@example.com",avatar_url:"https://via.placeholder.com/64?text=设计师小明",posts_count:12,total_likes:2345,total_views:15678,created_at:Date.now()-31536e6,updated_at:Date.now()-864e5},{id:2,username:"插画师小红",email:"xiaohong@example.com",avatar_url:"https://via.placeholder.com/64?text=插画师小红",posts_count:8,total_likes:1890,total_views:12345,created_at:Date.now()-2592e6,updated_at:Date.now()-1728e5},{id:3,username:"设计师小李",email:"xiaoli@example.com",avatar_url:"https://via.placeholder.com/64?text=设计师小李",posts_count:15,total_likes:2100,total_views:14567,created_at:Date.now()-18144e5,updated_at:Date.now()-2592e5},{id:4,username:"动画师小王",email:"xiaowang@example.com",avatar_url:"https://via.placeholder.com/64?text=动画师小王",posts_count:6,total_likes:1567,total_views:10987,created_at:Date.now()-12096e5,updated_at:Date.now()-3456e5},{id:5,username:"摄影师小张",email:"xiaozhang@example.com",avatar_url:"https://via.placeholder.com/64?text=摄影师小张",posts_count:20,total_likes:2890,total_views:18765,created_at:Date.now()-9072e5,updated_at:Date.now()-432e6},{id:6,username:"UI设计师小刘",email:"xiaoliu@example.com",avatar_url:"https://via.placeholder.com/64?text=UI设计师小刘",posts_count:14,total_likes:1987,total_views:13456,created_at:Date.now()-7776e5,updated_at:Date.now()-5184e5},{id:7,username:"平面设计师小陈",email:"xiaochen@example.com",avatar_url:"https://via.placeholder.com/64?text=平面设计师小陈",posts_count:11,total_likes:1765,total_views:11234,created_at:Date.now()-6912e5,updated_at:Date.now()-6048e5},{id:8,username:"3D设计师小周",email:"xiaozhou@example.com",avatar_url:"https://via.placeholder.com/64?text=3D设计师小周",posts_count:9,total_likes:2012,total_views:16789,created_at:Date.now()-6048e5,updated_at:Date.now()-6912e5},{id:9,username:"视频编辑小吴",email:"xiaowu@example.com",avatar_url:"https://via.placeholder.com/64?text=视频编辑小吴",posts_count:7,total_likes:1654,total_views:10987,created_at:Date.now()-5184e5,updated_at:Date.now()-7776e5},{id:10,username:"动效设计师小郑",email:"xiaozheng@example.com",avatar_url:"https://via.placeholder.com/64?text=动效设计师小郑",posts_count:13,total_likes:2234,total_views:14567,created_at:Date.now()-432e6,updated_at:Date.now()-864e6},{id:11,username:"游戏设计师小冯",email:"xiaofeng@example.com",avatar_url:"https://via.placeholder.com/64?text=游戏设计师小冯",posts_count:10,total_likes:1987,total_views:13456,created_at:Date.now()-3456e5,updated_at:Date.now()-9504e5},{id:12,username:"交互设计师小沈",email:"xishenshen@example.com",avatar_url:"https://via.placeholder.com/64?text=交互设计师小沈",posts_count:16,total_likes:2456,total_views:17890,created_at:Date.now()-2592e5,updated_at:Date.now()-10368e5}],E=(t,n)=>[...t].sort((d,m)=>n==="likes_count"?m.likes_count-d.likes_count:n==="views"?m.views-d.views:n==="comments_count"?m.comments_count-d.comments_count:n==="posts_count"?m.posts_count-d.posts_count:0),W=()=>{const[t,n]=l.useState("users"),[d,m]=l.useState("week"),[i,A]=l.useState("likes_count"),[y,b]=l.useState([]),[p,f]=l.useState([]),[v,k]=l.useState(!0),[j,B]=l.useState(null),[o,C]=l.useState(null),[w,S]=l.useState(!1),[F,L]=l.useState(!1),[z,N]=l.useState([]),M=H();l.useEffect(()=>{R()},[t,d,i]),l.useEffect(()=>{const a=r=>{r.key==="Escape"&&w&&g()};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[w]);const[_,D]=l.useState({}),R=async()=>{k(!0),B(null);const a=`${t}-${i}-${d}`;if(_[a]){t==="posts"?b(_[a].posts):f(_[a].users),k(!1);return}const r=E(P,i),c=E(q,i);t==="posts"?b(r):f(c),D(s=>({...s,[a]:{...s[a]||{posts:[],users:[]},posts:r,users:c}}));try{if(t==="posts"){const s=await I.get(`/api/leaderboard/posts?sortBy=${i}&timeRange=${d}&limit=10`,{timeoutMs:5e3,retries:0}),u=Array.isArray(s.data)&&s.data.length>0?s.data:r;b(u),D(h=>({...h,[a]:{...h[a]||{posts:[],users:[]},posts:u}}))}else{const s=await I.get(`/api/leaderboard/users?sortBy=${i}&timeRange=${d}&limit=10`,{timeoutMs:5e3,retries:0}),u=Array.isArray(s.data)&&s.data.length>0?s.data:c;f(u),D(h=>({...h,[a]:{...h[a]||{posts:[],users:[]},users:u}}))}}catch(s){console.log("API请求失败，使用mock数据:",s.message)}finally{requestAnimationFrame(()=>{k(!1)})}},$=a=>{M(`/explore/${a}`)},O=async a=>{C(a),S(!0),L(!0);try{const r=P.filter(c=>c.user_id===a.id).sort((c,s)=>s.likes_count-c.likes_count).slice(0,3);N(r)}catch(r){console.error("Failed to fetch user posts:",r),N([])}finally{requestAnimationFrame(()=>{L(!1)})}},g=()=>{S(!1),setTimeout(()=>{C(null),N([])},300)},T=a=>a===0?"text-amber-600 dark:text-amber-400 font-bold":a===1?"text-gray-600 dark:text-gray-300 font-bold":a===2?"text-amber-700 dark:text-amber-500 font-bold":"text-gray-500 dark:text-gray-400 font-medium",U=a=>a===0?e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-amber-100 dark:bg-amber-900/30",children:e.jsx("span",{className:"text-xl font-bold text-amber-600 dark:text-amber-400",children:a+1})}):a===1?e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-700",children:e.jsx("span",{className:"text-xl font-bold text-gray-600 dark:text-gray-300",children:a+1})}):a===2?e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-amber-50 dark:bg-amber-800/30",children:e.jsx("span",{className:"text-xl font-bold text-amber-700 dark:text-amber-500",children:a+1})}):e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-gray-50 dark:bg-gray-800",children:e.jsx("span",{className:`text-lg font-medium ${T(a)}`,children:a+1})});return e.jsxs("div",{className:"container mx-auto px-4 py-6 md:py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"设计师排行榜"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"发现平台上最受欢迎的设计师和作品"}),e.jsxs("div",{className:"flex flex-wrap gap-3 text-sm",children:[e.jsxs("span",{className:"bg-gray-100 dark:bg-gray-700/50 px-3 py-1 rounded-full text-gray-700 dark:text-gray-300",children:[e.jsx("span",{className:"font-medium",children:"类型:"})," ",t==="posts"?"热门帖子":"热门创作者"]}),e.jsxs("span",{className:"bg-gray-100 dark:bg-gray-700/50 px-3 py-1 rounded-full text-gray-700 dark:text-gray-300",children:[e.jsx("span",{className:"font-medium",children:"时间:"})," ",d==="day"?"今日":d==="week"?"本周":d==="month"?"本月":"总榜"]}),e.jsxs("span",{className:"bg-gray-100 dark:bg-gray-700/50 px-3 py-1 rounded-full text-gray-700 dark:text-gray-300",children:[e.jsx("span",{className:"font-medium",children:"排序:"})," ",i==="likes_count"?"点赞数":i==="views"?"浏览量":i==="comments_count"?"评论数":"作品数量"]}),e.jsxs("span",{className:"bg-gray-100 dark:bg-gray-700/50 px-3 py-1 rounded-full text-gray-700 dark:text-gray-300",children:[e.jsx("span",{className:"font-medium",children:"数据:"})," ",(t==="posts"?y.length:p.length).toString()]})]})]}),e.jsx(x.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white dark:bg-gray-800 rounded-lg p-5 mb-8 shadow-sm border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5 md:gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"排行榜类型"}),e.jsxs("div",{className:"flex space-x-2 flex-wrap",children:[e.jsx("button",{onClick:()=>n("posts"),className:`flex-1 min-w-[120px] px-3 py-2 text-sm rounded-lg font-medium transition-all ${t==="posts"?"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 hover:bg-blue-200 dark:hover:bg-blue-900/40":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"热门帖子"}),e.jsx("button",{onClick:()=>n("users"),className:`flex-1 min-w-[120px] px-3 py-2 text-sm rounded-lg font-medium transition-all ${t==="users"?"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 hover:bg-blue-200 dark:hover:bg-blue-900/40":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"热门创作者"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"时间范围"}),e.jsx("div",{className:"flex space-x-2 flex-wrap gap-y-2",children:["day","week","month","all"].map(a=>e.jsxs("button",{onClick:()=>m(a),className:`flex-1 min-w-[70px] px-3 py-1.5 rounded-full text-sm font-medium transition-all ${d===a?"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 hover:bg-blue-200 dark:hover:bg-blue-900/40":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[a==="day"&&"今日",a==="week"&&"本周",a==="month"&&"本月",a==="all"&&"总榜"]},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"排序方式"}),e.jsx("select",{value:i,onChange:a=>A(a.target.value),className:"w-full px-3 py-2.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:t==="posts"?e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"likes_count",children:"点赞数"}),e.jsx("option",{value:"views",children:"浏览量"}),e.jsx("option",{value:"comments_count",children:"评论数"})]}):e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"posts_count",children:"作品数量"}),e.jsx("option",{value:"likes_count",children:"总点赞数"}),e.jsx("option",{value:"views",children:"总浏览量"})]})})]})]})}),v?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[e.jsx("div",{className:"relative",children:e.jsx(x.div,{animate:{rotate:360},transition:{duration:.8,repeat:1/0,ease:"linear"},className:"rounded-full h-16 w-16 border-4 border-blue-200 dark:border-blue-800 border-t-blue-600 dark:border-t-blue-400"})}),e.jsx("p",{className:"mt-6 text-gray-600 dark:text-gray-400",children:"正在加载排行榜数据..."})]}):j?e.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 border border-red-200 dark:border-red-800 rounded-xl p-6 text-red-700 dark:text-red-300 shadow-sm",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("i",{className:"fas fa-exclamation-circle text-xl mr-3"}),e.jsx("h3",{className:"text-lg font-medium",children:"获取数据失败"})]}),e.jsx("p",{children:j}),e.jsx("button",{onClick:R,className:"mt-4 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors text-sm",children:"重试"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t==="posts"?y.map((a,r)=>e.jsx(x.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut",delay:r*.02},whileHover:{y:-2,transition:{duration:.2}},className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-md transition-all duration-300 cursor-pointer",onClick:()=>$(a.id),children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[e.jsx("div",{className:"relative flex-shrink-0",children:e.jsx("div",{className:"relative z-10",children:U(r)})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-xl text-gray-900 dark:text-white mb-3 line-clamp-2 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:a.title}),e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.username&&e.jsx("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${encodeURIComponent(a.username)}&backgroundColor=b6e3f4,c0aede,d1d4f9,ffd5dc,ffdfbf&size=32`,alt:a.username,className:"w-8 h-8 rounded-full border border-gray-200 dark:border-gray-600 object-cover",width:32,height:32,loading:"lazy"}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:a.username||"未知用户"}),e.jsx("span",{className:"text-gray-400 dark:text-gray-600",children:"•"}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(a.created_at).toLocaleDateString()})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-6 line-clamp-3 leading-relaxed",children:a.content}),e.jsxs("div",{className:"flex justify-between items-center text-sm pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex space-x-5",children:[e.jsxs("span",{className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 cursor-pointer transition-colors",children:[e.jsxs("svg",{className:"w-4 h-4 mr-1.5",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),e.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),a.views]}),e.jsxs("span",{className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400 cursor-pointer transition-colors",children:[e.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})}),a.likes_count]}),e.jsxs("span",{className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-green-600 dark:hover:text-green-400 cursor-pointer transition-colors",children:[e.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),a.comments_count]})]}),e.jsx("div",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 cursor-pointer transition-colors",children:e.jsx("i",{className:"fas fa-arrow-right text-sm"})})]})]})]})})},a.id)):p.map((a,r)=>e.jsx(x.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut",delay:r*.02},whileHover:{y:-2,transition:{duration:.2}},className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-md transition-all duration-300 cursor-pointer",onClick:()=>O(a),children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"relative",children:e.jsx("div",{className:"relative z-10",children:U(r)})}),e.jsx("div",{className:"relative",children:e.jsx("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${encodeURIComponent(a.username)}&backgroundColor=b6e3f4,c0aede,d1d4f9,ffd5dc,ffdfbf`,alt:a.username,className:"w-16 h-16 rounded-full border-2 border-gray-200 dark:border-gray-600 object-cover",width:64,height:64,loading:"lazy"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900 dark:text-white truncate",children:a.username}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 flex items-center gap-1 truncate",children:[e.jsx("i",{className:"fas fa-envelope text-xs opacity-70"}),a.email]})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium flex items-center gap-1.5",children:[e.jsx("i",{className:"fas fa-image text-xs opacity-80"}),"作品数量"]})}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a.posts_count||0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium flex items-center gap-1.5",children:[e.jsx("i",{className:"fas fa-heart text-xs opacity-80"}),"总点赞数"]})}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a.total_likes||0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium flex items-center gap-1.5",children:[e.jsx("i",{className:"fas fa-eye text-xs opacity-80"}),"总浏览量"]})}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a.total_views||0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium flex items-center gap-1.5",children:[e.jsx("i",{className:"fas fa-calendar-alt text-xs opacity-80"}),"加入时间"]})}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:new Date(a.created_at).toLocaleDateString()})]})]})]})},a.id))}),w&&o&&e.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:g,children:e.jsxs(x.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{type:"spring",damping:25,stiffness:300},className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:a=>a.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"创作者详情"}),e.jsx("button",{onClick:g,className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6 mb-8",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:o.avatar_url||`https://api.dicebear.com/7.x/avataaars/svg?seed=${encodeURIComponent(o.username)}&backgroundColor=b6e3f4,c0aede,d1d4f9,ffd5dc,ffdfbf`,alt:o.username,className:"w-24 h-24 rounded-full border-4 border-gray-200 dark:border-gray-600 object-cover",width:96,height:96})}),e.jsxs("div",{className:"flex-1 text-center md:text-left",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:o.username}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-3 flex items-center justify-center md:justify-start gap-1",children:[e.jsx("i",{className:"fas fa-envelope text-sm opacity-70"}),o.email]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-500 flex items-center justify-center md:justify-start gap-1",children:[e.jsx("i",{className:"fas fa-calendar-alt text-sm opacity-70"}),"加入时间：",new Date(o.created_at).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"作品数量"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o.posts_count||0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"总点赞数"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o.total_likes||0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"总浏览量"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o.total_views||0})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"热门作品"}),F?e.jsx("div",{className:"space-y-4 animate-pulse",children:[1,2,3].map(a=>e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-300 dark:bg-gray-600 rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded mb-2 max-w-md"}),e.jsx("div",{className:"h-3 bg-gray-300 dark:bg-gray-600 rounded max-w-xs"})]})]})},a))}):z.length>0?e.jsx("div",{className:"space-y-4",children:z.map(a=>e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 hover:shadow-sm transition-shadow cursor-pointer",onClick:()=>{g(),setTimeout(()=>$(a.id),300)},children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded flex items-center justify-center flex-shrink-0",children:e.jsx("i",{className:"fas fa-image text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white truncate mb-1",children:a.title}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 line-clamp-2",children:a.content}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500 dark:text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("i",{className:"fas fa-eye"}),a.views]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("i",{className:"fas fa-heart"}),a.likes_count]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("i",{className:"fas fa-comment"}),a.comments_count]})]})]}),e.jsx("div",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx("i",{className:"fas fa-arrow-right text-sm"})})]})},a.id))}):e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-6 text-center",children:[e.jsx("i",{className:"fas fa-images text-4xl text-gray-400 dark:text-gray-600 mb-3"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"该用户暂无作品"})]})]})]}),e.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:e.jsx("button",{onClick:g,className:"px-6 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-900 dark:text-white rounded-lg transition-colors",children:"关闭"})})]})}),v&&e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800/50 dark:to-gray-700/50 border border-gray-200 dark:border-gray-700 rounded-xl p-10 text-center shadow-sm animate-pulse",children:[e.jsx("div",{className:"w-20 h-20 mx-auto bg-gray-300 dark:bg-gray-600 rounded-full flex items-center justify-center mb-6",children:e.jsx("div",{className:"w-10 h-10 bg-gray-400 dark:bg-gray-500 rounded-full"})}),e.jsx("div",{className:"h-6 bg-gray-300 dark:bg-gray-600 rounded mb-3 max-w-xs mx-auto"}),e.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded mb-6 max-w-md mx-auto"}),e.jsx("div",{className:"h-10 bg-gray-300 dark:bg-gray-600 rounded-lg max-w-xs mx-auto"})]}),!y.length&&!p.length&&!v&&!j&&e.jsxs(x.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},className:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800/50 dark:to-gray-700/50 border border-gray-200 dark:border-gray-700 rounded-xl p-10 text-center shadow-sm",style:{willChange:"transform, opacity"},children:[e.jsx("div",{className:"w-20 h-20 mx-auto bg-gradient-to-br from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-600 rounded-full flex items-center justify-center mb-6",children:e.jsx("svg",{className:"w-10 h-10 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:"暂无数据"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 max-w-md mx-auto",children:t==="posts"?"还没有足够的帖子数据，快来发布你的第一个作品吧！":"还没有足够的用户数据，邀请更多创作者加入吧！"}),t==="posts"&&e.jsxs("button",{onClick:()=>M("/create"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-colors flex items-center justify-center mx-auto",children:[e.jsx("i",{className:"fas fa-plus mr-2"}),"发布作品"]})]})]})};export{W as default};
