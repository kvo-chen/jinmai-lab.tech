import{r,j as a}from"./index-DW-f9EnK.js";const y=r.memo(({suggestion:n,isDark:l,onSelect:o})=>{const e=l?"hover:bg-gray-700":"hover:bg-gray-50",s=r.useCallback(()=>{o(n)},[n,o]);return a.jsx("div",{onMouseDown:s,className:`${e} px-3 py-2 text-sm cursor-pointer`,children:n})}),v=r.memo(({search:n,setSearch:l,showSuggest:o,setShowSuggest:e,suggestions:s,isDark:c})=>{const i=r.useRef(null),d=r.useCallback(t=>{const u=t.target.value;i.current&&clearTimeout(i.current),i.current=setTimeout(()=>{l(u)},300),e(!0)},[l,e]),m=r.useCallback(()=>{e(!0)},[e]),x=r.useCallback(()=>{setTimeout(()=>e(!1),150)},[e]),h=r.useCallback(t=>{l(t),e(!1)},[l,e]),g=c?"bg-gray-800 text-white focus:bg-gray-800":"bg-gray-50 text-gray-900 focus:bg-white",p=c?"bg-gray-700":"bg-gray-100",f=c?"bg-gray-800 text-white ring-gray-700 shadow-lg":"bg-white text-gray-900 ring-gray-200 shadow-lg";return a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"flex items-center rounded-full shadow-md overflow-hidden transition-all duration-300 hover:shadow-lg",children:[a.jsx("div",{className:`${p} px-4 py-2 flex items-center justify-center`,children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500 dark:text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("input",{value:n,onChange:d,onFocus:m,onBlur:x,className:`${g} flex-1 px-4 py-2 border-0 focus:outline-none focus:ring-0 transition-all duration-300`,placeholder:"搜索标题/评论/风格/题材（支持 style:国潮 / topic:京剧）","aria-label":"搜索内容"})]}),o&&s.length>0&&a.jsx("div",{className:`${f} absolute z-10 mt-2 w-full rounded-xl ring-1 max-h-48 overflow-auto transition-all duration-300 transform origin-top scale-100 opacity-100`,children:s.map((t,u)=>a.jsx(y,{suggestion:t,isDark:c,onSelect:h},`${t}-${u}`))})]})});export{v as default};
