# 文化元素连连看小游戏模块开发计划

## 1. 游戏概述
设计一个"文化元素连连看"小游戏，玩家需要匹配相同的文化元素卡片，增强用户对中国传统文化和天津地方文化的了解，同时提供愉悦的游戏体验。

## 2. 实现方案

### 2.1 游戏服务层
- **文件**: `src/services/culturalMatchingGameService.ts`
- **功能**: 
  - 管理游戏关卡和卡片数据
  - 处理游戏逻辑（匹配判断、得分计算、时间记录）
  - 维护用户游戏进度
  - 提供提示功能
- **数据结构**:
  ```typescript
  interface Card {
    id: string;
    imageUrl: string;
    name: string;
    description: string;
    culturalElement: string;
  }
  
  interface Level {
    id: string;
    name: string;
    description: string;
    cards: Card[];
    gridSize: { rows: number; cols: number };
    difficulty: 'easy' | 'medium' | 'hard';
    unlockCondition?: { type: 'score' | 'level'; value: number };
    reward: string;
  }
  
  interface GameProgress {
    userId: string;
    completedLevels: string[];
    totalScore: number;
    levelScores: Record<string, number>;
    unlockedHints: number;
    bestTimes: Record<string, number>;
  }
  ```

### 2.2 游戏组件层
- **文件**: `src/components/CulturalMatchingGame.tsx`
- **功能**:
  - 游戏主界面
  - 关卡选择界面
  - 游戏进度展示
  - 卡片匹配交互
  - 得分和时间显示
  - 提示功能
- **技术栈**:
  - React + TypeScript
  - Framer Motion 用于动画效果
  - Tailwind CSS 用于样式
  - Sonner 用于通知

### 2.3 游戏机制
1. **关卡系统**: 3个难度级别（简单4x4、中等6x6、困难8x8）
2. **匹配规则**: 点击两张相同的卡片进行匹配，匹配成功则移除卡片
3. **计时系统**: 记录完成关卡的时间
4. **得分系统**: 基于完成时间和匹配数量计算得分
5. **提示功能**: 提供有限次数的提示，显示一对匹配卡片
6. **进度保存**: 记录用户完成的关卡和最佳成绩

### 2.4 游戏内容
- **天津文化主题**: 杨柳青年画、泥人张彩塑、天津方言等
- **中国传统文化主题**: 京剧脸谱、传统纹样、书法艺术等
- **卡片设计**: 包含图片、名称和简短描述

## 3. 集成计划
1. 将游戏组件添加到现有页面（如 Community 或 Explore 页面）
2. 提供游戏入口按钮
3. 考虑添加游戏排行榜功能
4. 与现有成就系统集成

## 4. 开发步骤
1. 创建游戏服务文件 `culturalMatchingGameService.ts`
2. 实现游戏数据和逻辑
3. 创建游戏组件文件 `CulturalMatchingGame.tsx`
4. 实现游戏界面和交互
5. 集成到现有页面
6. 测试和优化

## 5. 预期效果
- 提供一个有趣的连连看游戏体验
- 增强用户对传统文化的了解
- 增加平台的互动性和可玩性
- 支持不同难度级别，适合不同用户
- 与现有系统良好集成