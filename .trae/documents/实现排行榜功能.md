# 实现排行榜功能

## 功能概述
为创意创作平台添加排行榜功能，展示热门帖子和创作者，提升用户活跃度和内容发现效率。

## 实现方案

### 1. 前端实现
- **创建排行榜页面**：新建 `Leaderboard.tsx` 页面组件
- **支持多种排行类型**：
  - 热门帖子榜（按点赞数、浏览量、评论数）
  - 热门创作者榜（按作品数、总点赞数）
  - 时间范围筛选（日榜、周榜、月榜、总榜）
- **响应式设计**：适配移动端和桌面端
- **视觉设计**：使用卡片式布局，突出显示排名和关键数据

### 2. 后端实现
- **添加排行榜API**：
  - GET `/api/leaderboard/posts` - 获取帖子排行榜
  - GET `/api/leaderboard/users` - 获取用户排行榜
- **支持排序参数**：
  - `sortBy`：likes_count, views, comments_count, created_at
  - `timeRange`：day, week, month, all
  - `limit`：返回数量限制
- **数据库查询优化**：添加合适的索引，确保查询效率

### 3. 数据模型
- **复用现有模型**：基于已有的posts、likes、comments表
- **统计字段**：使用posts表中的views, likes_count, comments_count字段
- **时间范围计算**：通过created_at字段筛选不同时间范围的数据

## 实现步骤

1. **创建前端页面组件**：`src/pages/Leaderboard.tsx`
2. **添加路由配置**：在`App.tsx`中添加排行榜路由
3. **实现后端API**：
   - `api/leaderboard/posts.ts` - 帖子排行榜API
   - `api/leaderboard/users.ts` - 用户排行榜API
4. **实现数据库查询逻辑**：
   - 在`server/database.mjs`中添加排行榜查询函数
5. **测试功能**：确保各类型排行榜正常显示和切换

## 技术要点

- **前端**：React, TypeScript, React Router, Tailwind CSS
- **后端**：Node.js, 支持多种数据库（SQLite, MongoDB, PostgreSQL, Neon API）
- **排序逻辑**：使用数据库的ORDER BY和WHERE子句实现高效排序
- **缓存策略**：考虑添加缓存机制，减少数据库查询压力

## 预期效果

- 提供直观的排行榜界面，方便用户发现热门内容和创作者
- 支持多种排序维度，满足不同用户需求
- 响应式设计，适配各种设备
- 高效的API查询，确保页面加载速度

## 集成要点

- 与现有布局和导航系统集成
- 与用户系统集成，显示当前用户排名
- 与帖子详情页集成，显示帖子在排行榜中的位置

通过实现排行榜功能，可以提升平台的内容发现效率，激励用户创作优质内容，增强用户粘性和社区活跃度。